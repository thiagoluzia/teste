!function(){"use strict";function t(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]])}return n}function e(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))}var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function r(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}var s=function(t,e){this.target=e,this.type=t},a=function(t){function e(e,n){var o=t.call(this,"error",n)||this;return o.message=e.message,o.error=e,o}return o(e,t),e}(s),c=function(t){function e(e,n,o){void 0===e&&(e=1e3),void 0===n&&(n="");var i=t.call(this,"close",o)||this;return i.wasClean=!0,i.code=e,i.reason=n,i}return o(e,t),e}(s),l=function(){if("undefined"!=typeof WebSocket)return WebSocket},u=function(t){return void 0!==t&&!!t&&"CLOSED"in WebSocket},d={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},f=function(){function t(t,e,n){var o=this;void 0===n&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(t){o._debug("open event");var e=o._options.minUptime,n=void 0===e?d.minUptime:e;clearTimeout(o._connectTimeout),o._uptimeTimeout=setTimeout((function(){return o._acceptOpen()}),n),o._ws.binaryType=o._binaryType,o._messageQueue.forEach((function(t){var e;return null===(e=o._ws)||void 0===e?void 0:e.send(t)})),o._messageQueue=[],o.onopen&&o.onopen(t),o._listeners.open.forEach((function(e){return o._callEventListener(t,e)}))},this._handleMessage=function(t){o._debug("message event"),o.onmessage&&o.onmessage(t),o._listeners.message.forEach((function(e){return o._callEventListener(t,e)}))},this._handleError=function(t){o._debug("error event",t.message),o._disconnect(void 0,"TIMEOUT"===t.message?"timeout":void 0),o.onerror&&o.onerror(t),o._debug("exec error listeners"),o._listeners.error.forEach((function(e){return o._callEventListener(t,e)})),o._connect()},this._handleClose=function(t){o._debug("close event"),o._clearTimeouts(),o._shouldReconnect&&o._connect(),o.onclose&&o.onclose(t),o._listeners.close.forEach((function(e){return o._callEventListener(t,e)}))},this._url=t,this._protocols=e,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(t,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CONNECTING",{get:function(){return t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OPEN",{get:function(){return t.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSING",{get:function(){return t.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSED",{get:function(){return t.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce((function(t,e){return"string"==typeof e?t+=e.length:e instanceof Blob?t+=e.size:t+=e.byteLength,t}),0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?t.CLOSED:t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),t.prototype.close=function(t,e){void 0===t&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,e):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},t.prototype.reconnect=function(t,e){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,e),this._connect()):this._connect()},t.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var e=this._options.maxEnqueuedMessages,n=void 0===e?d.maxEnqueuedMessages:e;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}},t.prototype.addEventListener=function(t,e){this._listeners[t]&&this._listeners[t].push(e)},t.prototype.dispatchEvent=function(t){var e,n,o=this._listeners[t.type];if(o)try{for(var i=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(o),r=i.next();!r.done;r=i.next()){var s=r.value;this._callEventListener(t,s)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!0},t.prototype.removeEventListener=function(t,e){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter((function(t){return t!==e})))},t.prototype._debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._options.debug&&console.log.apply(console,r(["RWS>"],t))},t.prototype._getNextDelay=function(){var t=this._options,e=t.reconnectionDelayGrowFactor,n=void 0===e?d.reconnectionDelayGrowFactor:e,o=t.minReconnectionDelay,i=void 0===o?d.minReconnectionDelay:o,r=t.maxReconnectionDelay,s=void 0===r?d.maxReconnectionDelay:r,a=0;return this._retryCount>0&&(a=i*Math.pow(n,this._retryCount-1))>s&&(a=s),this._debug("next delay",a),a},t.prototype._wait=function(){var t=this;return new Promise((function(e){setTimeout(e,t._getNextDelay())}))},t.prototype._getNextUrl=function(t){if("string"==typeof t)return Promise.resolve(t);if("function"==typeof t){var e=t();if("string"==typeof e)return Promise.resolve(e);if(e.then)return e}throw Error("Invalid URL")},t.prototype._connect=function(){var t=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var e=this._options,n=e.maxRetries,o=void 0===n?d.maxRetries:n,i=e.connectionTimeout,r=void 0===i?d.connectionTimeout:i,s=e.WebSocket,a=void 0===s?l():s;if(this._retryCount>=o)this._debug("max retries reached",this._retryCount,">=",o);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!u(a))throw Error("No valid WebSocket class provided");this._wait().then((function(){return t._getNextUrl(t._url)})).then((function(e){t._closeCalled||(t._debug("connect",{url:e,protocols:t._protocols}),t._ws=t._protocols?new a(e,t._protocols):new a(e),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout((function(){return t._handleTimeout()}),r))}))}}},t.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new a(Error("TIMEOUT"),this))},t.prototype._disconnect=function(t,e){if(void 0===t&&(t=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(t,e),this._handleClose(new c(t,e,this))}catch(t){}}},t.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},t.prototype._callEventListener=function(t,e){"handleEvent"in e?e.handleEvent(t):e(t)},t.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},t.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},t.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},t}(),p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function m(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var v=function(t){return t&&t.Math==Math&&t},b=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof p&&p)||function(){return this}()||Function("return this")(),y=function(t){try{return!!t()}catch(t){return!0}},g=!y((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),w={}.propertyIsEnumerable,C=Object.getOwnPropertyDescriptor,x={f:C&&!w.call({1:2},1)?function(t){var e=C(this,t);return!!e&&e.enumerable}:w},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O={}.toString,k=function(t){return O.call(t).slice(8,-1)},L="".split,E=y((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==k(t)?L.call(t,""):Object(t)}:Object,j=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},N=function(t){return E(j(t))},T=function(t){return"object"==typeof t?null!==t:"function"==typeof t},M=function(t,e){if(!T(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!T(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!T(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!T(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")},I={}.hasOwnProperty,A=function(t,e){return I.call(t,e)},D=b.document,_=T(D)&&T(D.createElement),R=function(t){return _?D.createElement(t):{}},H=!g&&!y((function(){return 7!=Object.defineProperty(R("div"),"a",{get:function(){return 7}}).a})),F=Object.getOwnPropertyDescriptor,z={f:g?F:function(t,e){if(t=N(t),e=M(e,!0),H)try{return F(t,e)}catch(t){}if(A(t,e))return S(!x.f.call(t,e),t[e])}},P=function(t){if(!T(t))throw TypeError(String(t)+" is not an object");return t},W=Object.defineProperty,$={f:g?W:function(t,e,n){if(P(t),e=M(e,!0),P(n),H)try{return W(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},U=g?function(t,e,n){return $.f(t,e,S(1,n))}:function(t,e,n){return t[e]=n,t},V=function(t,e){try{U(b,t,e)}catch(n){b[t]=e}return e},B="__core-js_shared__",Z=b[B]||V(B,{}),G=Function.toString;"function"!=typeof Z.inspectSource&&(Z.inspectSource=function(t){return G.call(t)});var Y,q,J,K=Z.inspectSource,X=b.WeakMap,Q="function"==typeof X&&/native code/.test(K(X)),tt=m((function(t){(t.exports=function(t,e){return Z[t]||(Z[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.7.0",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),et=0,nt=Math.random(),ot=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++et+nt).toString(36)},it=tt("keys"),rt=function(t){return it[t]||(it[t]=ot(t))},st={},at=b.WeakMap;if(Q){var ct=Z.state||(Z.state=new at),lt=ct.get,ut=ct.has,dt=ct.set;Y=function(t,e){return e.facade=t,dt.call(ct,t,e),e},q=function(t){return lt.call(ct,t)||{}},J=function(t){return ut.call(ct,t)}}else{var ft=rt("state");st[ft]=!0,Y=function(t,e){return e.facade=t,U(t,ft,e),e},q=function(t){return A(t,ft)?t[ft]:{}},J=function(t){return A(t,ft)}}var pt={set:Y,get:q,has:J,enforce:function(t){return J(t)?q(t):Y(t,{})},getterFor:function(t){return function(e){var n;if(!T(e)||(n=q(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},ht=m((function(t){var e=pt.get,n=pt.enforce,o=String(String).split("String");(t.exports=function(t,e,i,r){var s,a=!!r&&!!r.unsafe,c=!!r&&!!r.enumerable,l=!!r&&!!r.noTargetGet;"function"==typeof i&&("string"!=typeof e||A(i,"name")||U(i,"name",e),(s=n(i)).source||(s.source=o.join("string"==typeof e?e:""))),t!==b?(a?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=i:U(t,e,i)):c?t[e]=i:V(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||K(this)}))})),mt=b,vt=function(t){return"function"==typeof t?t:void 0},bt=function(t,e){return arguments.length<2?vt(mt[t])||vt(b[t]):mt[t]&&mt[t][e]||b[t]&&b[t][e]},yt=Math.ceil,gt=Math.floor,wt=function(t){return isNaN(t=+t)?0:(t>0?gt:yt)(t)},Ct=Math.min,xt=function(t){return t>0?Ct(wt(t),9007199254740991):0},St=Math.max,Ot=Math.min,kt=function(t){return function(e,n,o){var i,r=N(e),s=xt(r.length),a=function(t,e){var n=wt(t);return n<0?St(n+e,0):Ot(n,e)}(o,s);if(t&&n!=n){for(;s>a;)if((i=r[a++])!=i)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===n)return t||a||0;return!t&&-1}},Lt={includes:kt(!0),indexOf:kt(!1)}.indexOf,Et=function(t,e){var n,o=N(t),i=0,r=[];for(n in o)!A(st,n)&&A(o,n)&&r.push(n);for(;e.length>i;)A(o,n=e[i++])&&(~Lt(r,n)||r.push(n));return r},jt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Nt=jt.concat("length","prototype"),Tt={f:Object.getOwnPropertyNames||function(t){return Et(t,Nt)}},Mt={f:Object.getOwnPropertySymbols},It=bt("Reflect","ownKeys")||function(t){var e=Tt.f(P(t)),n=Mt.f;return n?e.concat(n(t)):e},At=function(t,e){for(var n=It(e),o=$.f,i=z.f,r=0;r<n.length;r++){var s=n[r];A(t,s)||o(t,s,i(e,s))}},Dt=/#|\.prototype\./,_t=function(t,e){var n=Ht[Rt(t)];return n==zt||n!=Ft&&("function"==typeof e?y(e):!!e)},Rt=_t.normalize=function(t){return String(t).replace(Dt,".").toLowerCase()},Ht=_t.data={},Ft=_t.NATIVE="N",zt=_t.POLYFILL="P",Pt=_t,Wt=z.f,$t=Array.isArray||function(t){return"Array"==k(t)},Ut=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Vt=function(t,e,n){if(Ut(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}},Bt=function(t,e,n,o,i,r,s,a){for(var c,l=i,u=0,d=!!s&&Vt(s,a,3);u<o;){if(u in n){if(c=d?d(n[u],u,e):n[u],r>0&&$t(c))l=Bt(t,e,c,xt(c.length),l,r-1)-1;else{if(l>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[l]=c}l++}u++}return l},Zt=Bt,Gt=function(t){return Object(j(t))},Yt=!!Object.getOwnPropertySymbols&&!y((function(){return!String(Symbol())})),qt=Yt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Jt=tt("wks"),Kt=b.Symbol,Xt=qt?Kt:Kt&&Kt.withoutSetter||ot,Qt=function(t){return A(Jt,t)||(Yt&&A(Kt,t)?Jt[t]=Kt[t]:Jt[t]=Xt("Symbol."+t)),Jt[t]},te=Qt("species"),ee=function(t,e){var n;return $t(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!$t(n.prototype)?T(n)&&null===(n=n[te])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)};!function(t,e){var n,o,i,r,s,a=t.target,c=t.global,l=t.stat;if(n=c?b:l?b[a]||V(a,{}):(b[a]||{}).prototype)for(o in e){if(r=e[o],i=t.noTargetGet?(s=Wt(n,o))&&s.value:n[o],!Pt(c?o:a+(l?".":"#")+o,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;At(r,i)}(t.sham||i&&i.sham)&&U(r,"sham",!0),ht(n,o,r,t)}}({target:"Array",proto:!0},{flatMap:function(t){var e,n=Gt(this),o=xt(n.length);return Ut(t),(e=ee(n,0)).length=Zt(e,n,n,o,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var ne,oe=Object.keys||function(t){return Et(t,jt)},ie=g?Object.defineProperties:function(t,e){P(t);for(var n,o=oe(e),i=o.length,r=0;i>r;)$.f(t,n=o[r++],e[n]);return t},re=bt("document","documentElement"),se=rt("IE_PROTO"),ae=function(){},ce=function(t){return"<script>"+t+"</"+"script>"},le=function(){try{ne=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;le=ne?function(t){t.write(ce("")),t.close();var e=t.parentWindow.Object;return t=null,e}(ne):((e=R("iframe")).style.display="none",re.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ce("document.F=Object")),t.close(),t.F);for(var n=jt.length;n--;)delete le.prototype[jt[n]];return le()};st[se]=!0;var ue=Object.create||function(t,e){var n;return null!==t?(ae.prototype=P(t),n=new ae,ae.prototype=null,n[se]=t):n=le(),void 0===e?n:ie(n,e)},de=Qt("unscopables"),fe=Array.prototype;null==fe[de]&&$.f(fe,de,{configurable:!0,value:ue(null)});var pe;pe="flatMap",fe[de][pe]=!0;var he,me,ve=Function.call,be=(he="flatMap",Vt(ve,b["Array"].prototype[he],me),/^\s+|\s+$/g),ye=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,we=/^0o[0-7]+$/i,Ce=parseInt,xe="object"==typeof p&&p&&p.Object===Object&&p,Se="object"==typeof self&&self&&self.Object===Object&&self,Oe=xe||Se||Function("return this")(),ke=Object.prototype.toString,Le=Math.max,Ee=Math.min,je=function(){return Oe.Date.now()};function Ne(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Te(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==ke.call(t)}(t))return NaN;if(Ne(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ne(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(be,"");var n=ge.test(t);return n||we.test(t)?Ce(t.slice(2),n?2:8):ye.test(t)?NaN:+t}var Me=function(t,e,n){var o,i,r,s,a,c,l=0,u=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=o,r=i;return o=i=void 0,l=e,s=t.apply(r,n)}function h(t){return l=t,a=setTimeout(v,e),u?p(t):s}function m(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=r}function v(){var t=je();if(m(t))return b(t);a=setTimeout(v,function(t){var n=e-(t-c);return d?Ee(n,r-(t-l)):n}(t))}function b(t){return a=void 0,f&&o?p(t):(o=i=void 0,s)}function y(){var t=je(),n=m(t);if(o=arguments,i=this,c=t,n){if(void 0===a)return h(c);if(d)return a=setTimeout(v,e),p(c)}return void 0===a&&(a=setTimeout(v,e)),s}return e=Te(e)||0,Ne(n)&&(u=!!n.leading,r=(d="maxWait"in n)?Le(Te(n.maxWait)||0,e):r,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==a&&clearTimeout(a),l=0,o=c=i=a=void 0},y.flush=function(){return void 0===a?s:b(je())},y};function Ie(t){return{all:t=t||new Map,on:function(e,n){var o=t.get(e);o?o.push(n):t.set(e,[n])},off:function(e,n){var o=t.get(e);o&&(n?o.splice(o.indexOf(n)>>>0,1):t.set(e,[]))},o:function(e,n){var o=t.get(e);o&&o.slice().map((function(t){t(n)})),(o=t.get("*"))&&o.slice().map((function(t){t(e,n)}))}}}let Ae;var De,_e="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:p):t=>(Ae||(Ae=Promise.resolve())).then(t).catch((t=>setTimeout((()=>{throw t}),0)));function Re(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}!function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"}(De||(De={}));var He={type:"xstate.init"};function Fe(t){return void 0===t?[]:[].concat(t)}function ze(t){return{type:"xstate.assign",assignment:t}}function Pe(t,e){return"string"==typeof(t="string"==typeof t&&e&&e[t]?e[t]:t)?{type:t}:"function"==typeof t?{type:t.name,exec:t}:t}function We(t){return function(e){return t===e}}function $e(t){return"string"==typeof t?{type:t}:t}function Ue(t,e){return{value:t,context:e,actions:[],changed:!1,matches:We(t)}}function Ve(t,e,n){var o=e,i=!1;return[t.filter((function(t){if("xstate.assign"===t.type){i=!0;var e=Object.assign({},o);return"function"==typeof t.assignment?e=t.assignment(o,n):Object.keys(t.assignment).forEach((function(i){e[i]="function"==typeof t.assignment[i]?t.assignment[i](o,n):t.assignment[i]})),o=e,!1}return!0})),o,i]}var Be,Ze,Ge,Ye,qe=function(t,e){return t.actions.forEach((function(n){var o=n.exec;return o&&o(t.context,e)}))};!function(t){t.OFF="off",t.REQUESTED="requested",t.ENABLED="enabled"}(Be||(Be={})),function(t){t.REJECTED="rejected",t.ACCEPTED="accepted"}(Ze||(Ze={})),function(t){t.REQUESTED="requested",t.OFF="off",t.ENABLED="enabled"}(Ge||(Ge={})),function(t){t.CANCELED="canceled",t.MISSED="missed"}(Ye||(Ye={}));var Je,Ke,Xe,Qe,tn,en,nn={},on=[],rn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function sn(t,e){for(var n in e)t[n]=e[n];return t}function an(t){var e=t.parentNode;e&&e.removeChild(t)}function cn(t,e,n){var o,i,r,s={};for(r in e)"key"==r?o=e[r]:"ref"==r?i=e[r]:s[r]=e[r];if(arguments.length>2&&(s.children=arguments.length>3?Je.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===s[r]&&(s[r]=t.defaultProps[r]);return ln(t,s,o,i,null)}function ln(t,e,n,o,i){var r={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++Xe:i};return null!=Ke.vnode&&Ke.vnode(r),r}function un(t){return t.children}function dn(t,e){this.props=t,this.context=e}function fn(t,e){if(null==e)return t.__?fn(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?fn(t):null}function pn(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return pn(t)}}function hn(t){(!t.__d&&(t.__d=!0)&&Qe.push(t)&&!mn.__r++||en!==Ke.debounceRendering)&&((en=Ke.debounceRendering)||tn)(mn)}function mn(){for(var t;mn.__r=Qe.length;)t=Qe.sort((function(t,e){return t.__v.__b-e.__v.__b})),Qe=[],t.some((function(t){var e,n,o,i,r,s;t.__d&&(r=(i=(e=t).__v).__e,(s=e.__P)&&(n=[],(o=sn({},i)).__v=i.__v+1,Sn(s,i,o,e.__n,void 0!==s.ownerSVGElement,null!=i.__h?[r]:null,n,null==r?fn(i):r,i.__h),On(n,i),i.__e!=r&&pn(i)))}))}function vn(t,e,n,o,i,r,s,a,c,l){var u,d,f,p,h,m,v,b=o&&o.__k||on,y=b.length;for(n.__k=[],u=0;u<e.length;u++)if(null!=(p=n.__k[u]=null==(p=e[u])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?ln(null,p,null,null,p):Array.isArray(p)?ln(un,{children:p},null,null,null):p.__b>0?ln(p.type,p.props,p.key,null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(f=b[u])||f&&p.key==f.key&&p.type===f.type)b[u]=void 0;else for(d=0;d<y;d++){if((f=b[d])&&p.key==f.key&&p.type===f.type){b[d]=void 0;break}f=null}Sn(t,p,f=f||nn,i,r,s,a,c,l),h=p.__e,(d=p.ref)&&f.ref!=d&&(v||(v=[]),f.ref&&v.push(f.ref,null,p),v.push(d,p.__c||h,p)),null!=h?(null==m&&(m=h),"function"==typeof p.type&&null!=p.__k&&p.__k===f.__k?p.__d=c=bn(p,c,t):c=yn(t,p,f,b,h,c),l||"option"!==n.type?"function"==typeof n.type&&(n.__d=c):t.value=""):c&&f.__e==c&&c.parentNode!=t&&(c=fn(f))}for(n.__e=m,u=y;u--;)null!=b[u]&&("function"==typeof n.type&&null!=b[u].__e&&b[u].__e==n.__d&&(n.__d=fn(o,u+1)),En(b[u],b[u]));if(v)for(u=0;u<v.length;u++)Ln(v[u],v[++u],v[++u])}function bn(t,e,n){var o,i;for(o=0;o<t.__k.length;o++)(i=t.__k[o])&&(i.__=t,e="function"==typeof i.type?bn(i,e,n):yn(n,i,i,t.__k,i.__e,e));return e}function yn(t,e,n,o,i,r){var s,a,c;if(void 0!==e.__d)s=e.__d,e.__d=void 0;else if(null==n||i!=r||null==i.parentNode)t:if(null==r||r.parentNode!==t)t.appendChild(i),s=null;else{for(a=r,c=0;(a=a.nextSibling)&&c<o.length;c+=2)if(a==i)break t;t.insertBefore(i,r),s=r}return void 0!==s?s:i.nextSibling}function gn(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||rn.test(e)?n:n+"px"}function wn(t,e,n,o,i){var r;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof o&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||gn(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||gn(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?o||t.addEventListener(e,r?xn:Cn,r):t.removeEventListener(e,r?xn:Cn,r);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function Cn(t){this.l[t.type+!1](Ke.event?Ke.event(t):t)}function xn(t){this.l[t.type+!0](Ke.event?Ke.event(t):t)}function Sn(t,e,n,o,i,r,s,a,c){var l,u,d,f,p,h,m,v,b,y,g,w=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(c=n.__h,a=e.__e=n.__e,e.__h=null,r=[a]),(l=Ke.__b)&&l(e);try{t:if("function"==typeof w){if(v=e.props,b=(l=w.contextType)&&o[l.__c],y=l?b?b.props.value:l.__:o,n.__c?m=(u=e.__c=n.__c).__=u.__E:("prototype"in w&&w.prototype.render?e.__c=u=new w(v,y):(e.__c=u=new dn(v,y),u.constructor=w,u.render=jn),b&&b.sub(u),u.props=v,u.state||(u.state={}),u.context=y,u.__n=o,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=w.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=sn({},u.__s)),sn(u.__s,w.getDerivedStateFromProps(v,u.__s))),f=u.props,p=u.state,d)null==w.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==w.getDerivedStateFromProps&&v!==f&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(v,y),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(v,u.__s,y)||e.__v===n.__v){u.props=v,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),u.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),u.__h.length&&s.push(u);break t}null!=u.componentWillUpdate&&u.componentWillUpdate(v,u.__s,y),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(f,p,h)}))}u.context=y,u.props=v,u.state=u.__s,(l=Ke.__r)&&l(e),u.__d=!1,u.__v=e,u.__P=t,l=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(o=sn(sn({},o),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(h=u.getSnapshotBeforeUpdate(f,p)),g=null!=l&&l.type===un&&null==l.key?l.props.children:l,vn(t,Array.isArray(g)?g:[g],e,n,o,i,r,s,a,c),u.base=e.__e,e.__h=null,u.__h.length&&s.push(u),m&&(u.__E=u.__=null),u.__e=!1}else null==r&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=kn(n.__e,e,n,o,i,r,s,c);(l=Ke.diffed)&&l(e)}catch(t){e.__v=null,(c||null!=r)&&(e.__e=a,e.__h=!!c,r[r.indexOf(a)]=null),Ke.__e(t,e,n)}}function On(t,e){Ke.__c&&Ke.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){Ke.__e(t,e.__v)}}))}function kn(t,e,n,o,i,r,s,a){var c,l,u,d=n.props,f=e.props,p=e.type,h=0;if("svg"===p&&(i=!0),null!=r)for(;h<r.length;h++)if((c=r[h])&&(c===t||(p?c.localName==p:3==c.nodeType))){t=c,r[h]=null;break}if(null==t){if(null===p)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,f.is&&f),r=null,a=!1}if(null===p)d===f||a&&t.data===f||(t.data=f);else{if(r=r&&Je.call(t.childNodes),l=(d=n.props||nn).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!a){if(null!=r)for(d={},h=0;h<t.attributes.length;h++)d[t.attributes[h].name]=t.attributes[h].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(function(t,e,n,o,i){var r;for(r in n)"children"===r||"key"===r||r in e||wn(t,r,null,n[r],o);for(r in e)i&&"function"!=typeof e[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===e[r]||wn(t,r,e[r],n[r],o)}(t,f,d,i,a),u)e.__k=[];else if(h=e.props.children,vn(t,Array.isArray(h)?h:[h],e,n,o,i&&"foreignObject"!==p,r,s,r?r[0]:n.__k&&fn(n,0),a),null!=r)for(h=r.length;h--;)null!=r[h]&&an(r[h]);a||("value"in f&&void 0!==(h=f.value)&&(h!==t.value||"progress"===p&&!h)&&wn(t,"value",h,d.value,!1),"checked"in f&&void 0!==(h=f.checked)&&h!==t.checked&&wn(t,"checked",h,d.checked,!1))}return t}function Ln(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){Ke.__e(t,n)}}function En(t,e,n){var o,i;if(Ke.unmount&&Ke.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Ln(o,null,e)),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){Ke.__e(t,e)}o.base=o.__P=null}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&En(o[i],e,"function"!=typeof t.type);n||null==t.__e||an(t.__e),t.__e=t.__d=void 0}function jn(t,e,n){return this.constructor(t,n)}function Nn(t,e,n){var o,i,r;Ke.__&&Ke.__(t,e),i=(o="function"==typeof n)?null:n&&n.__k||e.__k,r=[],Sn(e,t=(!o&&n||e).__k=cn(un,null,[t]),i||nn,nn,void 0!==e.ownerSVGElement,!o&&n?[n]:i?null:e.firstChild?Je.call(e.childNodes):null,r,!o&&n?n:i?i.__e:e.firstChild,o),On(r,t)}Je=on.slice,Ke={__e:function(t,e){for(var n,o,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&null!=o.getDerivedStateFromError&&(n.setState(o.getDerivedStateFromError(t)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(e){t=e}throw t}},Xe=0,dn.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=sn({},this.state),"function"==typeof t&&(t=t(sn({},n),this.props)),t&&sn(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),hn(this))},dn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),hn(this))},dn.prototype.render=un,Qe=[],tn="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,mn.__r=0;var Tn,Mn,In,An=0,Dn=[],_n=Ke.__b,Rn=Ke.__r,Hn=Ke.diffed,Fn=Ke.__c,zn=Ke.unmount;function Pn(t,e){Ke.__h&&Ke.__h(Mn,t,An||e),An=0;var n=Mn.__H||(Mn.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Wn(t){return An=1,function(t,e,n){var o=Pn(Tn++,2);return o.t=t,o.__c||(o.__=[n?n(e):Xn(void 0,e),function(t){var e=o.t(o.__[0],t);o.__[0]!==e&&(o.__=[e,o.__[1]],o.__c.setState({}))}],o.__c=Mn),o.__}(Xn,t)}function $n(t,e){var n=Pn(Tn++,3);!Ke.__s&&Kn(n.__H,e)&&(n.__=t,n.__H=e,Mn.__H.__h.push(n))}function Un(t,e){var n=Pn(Tn++,4);!Ke.__s&&Kn(n.__H,e)&&(n.__=t,n.__H=e,Mn.__h.push(n))}function Vn(t){return An=5,Bn((function(){return{current:t}}),[])}function Bn(t,e){var n=Pn(Tn++,7);return Kn(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Zn(t,e){return An=8,Bn((function(){return t}),e)}function Gn(){Dn.forEach((function(t){if(t.__P)try{t.__H.__h.forEach(qn),t.__H.__h.forEach(Jn),t.__H.__h=[]}catch(e){t.__H.__h=[],Ke.__e(e,t.__v)}})),Dn=[]}Ke.__b=function(t){Mn=null,_n&&_n(t)},Ke.__r=function(t){Rn&&Rn(t),Tn=0;var e=(Mn=t.__c).__H;e&&(e.__h.forEach(qn),e.__h.forEach(Jn),e.__h=[])},Ke.diffed=function(t){Hn&&Hn(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==Dn.push(e)&&In===Ke.requestAnimationFrame||((In=Ke.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(o),Yn&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Yn&&(e=requestAnimationFrame(n))})(Gn)),Mn=void 0},Ke.__c=function(t,e){e.some((function(t){try{t.__h.forEach(qn),t.__h=t.__h.filter((function(t){return!t.__||Jn(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],Ke.__e(n,t.__v)}})),Fn&&Fn(t,e)},Ke.unmount=function(t){zn&&zn(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(qn)}catch(t){Ke.__e(t,e.__v)}};var Yn="function"==typeof requestAnimationFrame;function qn(t){var e=Mn;"function"==typeof t.__c&&t.__c(),Mn=e}function Jn(t){var e=Mn;t.__c=t.__(),Mn=e}function Kn(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function Xn(t,e){return"function"==typeof e?e(t):e}const Qn=t=>t instanceof HTMLElement||"innerText"in t,to="localhost"===location.hostname||"127.0.0.1"===location.hostname,eo="cohereLastSessionId",no=(t,e)=>{var n;fetch("https://api.cohere.so/bundle/error",{method:"POST",headers:{"Content-Type":"text/plain"},mode:"no-cors",body:JSON.stringify({name:t.name,message:t.message,stack:null!==(n=t.stack)&&void 0!==n?n:null,apiKey:e})}).catch((()=>{}))};function oo(t){const e=Vn();return $n((()=>{e.current=t}),[t]),e.current}const io=()=>window.open("https://cohere.so","_blank","noopener"),ro="1234567890",so=(t,e,n)=>{const o=new URLSearchParams;return t.requesterName&&o.set("requesterName",t.requesterName),o.set("apiKey",t.apiKey),o.set("isBundleInitiated",n?"true":"false"),t.requestCallPreviewImage&&o.set("previewImage",t.requestCallPreviewImage),e&&o.set("missedCallCTAText",e),`https://voice.cohere.so/${encodeURIComponent(t.rtcSessionId)}?${o.toString()}`},ao=(t,e)=>{const n=new URL(t);return n.hash=e,n.href},co=new URL("https://voice.cohere.so").origin,lo=document.currentScript.src;window.addEventListener("message",(t=>{if(t.origin!==co)return;const e=t.data;"COHERE_MISSED_CALL"===(null==e?void 0:e.type)?po.send({type:"MISS_CALL"}):"COHERE_ENDED_CALL"===(null==e?void 0:e.type)?po.send({type:"END_CALL"}):"COHERE_IFRAME_CLOSE"===(null==e?void 0:e.type)?po.send({type:"NOTIFY_POPUP_CLOSED"}):"COHERE_MISSED_CALL_CTA_CLICK"===(null==e?void 0:e.type)?po.send({type:"NOTIFY_MISSED_CTA_CLICKED"}):"COHERE_VOICE_CTA_IDENTIFY"===(null==e?void 0:e.type)&&js(e.email)}));const uo=t=>{var e,n;const o=(null!==(e=screen.height)&&void 0!==e?e:window.innerHeight)-340,i=(null!==(n=screen.width)&&void 0!==n?n:window.innerWidth)-560,r=window.open(t,void 0,`width=560,height=340,toolbar=0,menubar=0,location=0,left=${i},top=${o}`),s=setInterval((()=>{!1!==(null==r?void 0:r.closed)&&(clearInterval(s),po.send({type:"NOTIFY_POPUP_CLOSED"}))}),100);return r},fo=ze((t=>Object.assign(Object.assign({},t),{popupWindow:null,url:void 0,missedCallCTA:void 0}))),po=function(t){var e=t.initialState,n=De.NotStarted,o=new Set,i={_machine:t,send:function(i){n===De.Running&&(e=t.transition(e,i),qe(e,$e(i)),o.forEach((function(t){return t(e)})))},subscribe:function(t){return o.add(t),t(e),{unsubscribe:function(){return o.delete(t)}}},start:function(o){if(o){var r="object"==typeof o?o:{context:t.config.context,value:o};e={value:r.value,actions:[],context:r.context,matches:We(r.value)}}return n=De.Running,qe(e,He),i},stop:function(){return n=De.Stopped,o.clear(),i},get state(){return e},get status(){return n}};return i}(function(t,e){void 0===e&&(e={});var n=Re(Ve(Fe(t.states[t.initial].entry).map((function(t){return Pe(t,e.actions)})),t.context,He),2),o=n[0],i=n[1],r={config:t,_options:e,initialState:{value:t.initial,actions:o,context:i,matches:We(t.initial)},transition:function(e,n){var o,i,s="string"==typeof e?{value:e,context:t.context}:e,a=s.value,c=s.context,l=$e(n),u=t.states[a];if(u.on){var d=Fe(u.on[l.type]);try{for(var f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),p=f.next();!p.done;p=f.next()){var h=p.value;if(void 0===h)return Ue(a,c);var m="string"==typeof h?{target:h}:h,v=m.target,b=m.actions,y=void 0===b?[]:b,g=m.cond,w=void 0===g?function(){return!0}:g,C=void 0===v,x=null!=v?v:a,S=t.states[x];if(w(c,l)){var O=Re(Ve((C?Fe(y):[].concat(u.exit,y,S.entry).filter((function(t){return t}))).map((function(t){return Pe(t,r._options.actions)})),c,l),3),k=O[0],L=O[1],E=O[2],j=null!=v?v:a;return{value:j,context:L,actions:k,changed:v!==a||k.length>0||E,matches:We(j)}}}}catch(t){o={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}return Ue(a,c)}};return r}({id:"callPopup",context:{popupWindow:null,url:void 0,rtcSessionId:void 0,missedCallCTA:void 0,apiKey:void 0},initial:"closed",states:{closed:{on:{ACCEPT_CALL:{target:"inCall",actions:ze(((t,e)=>{t.popupWindow&&t.popupWindow.close();const n=so(e.callData,void 0,!1);return Object.assign(Object.assign({},t),{url:n,rtcSessionId:e.callData.rtcSessionId,apiKey:e.callData.apiKey,popupWindow:e.voiceWindowEmbed?null:uo(n)})}))},DIAL_CALL:{target:"dialing",actions:ze(((t,e)=>{var n;t.popupWindow&&t.popupWindow.close();const o=so(e.callData,null===(n=e.missedCallCTA)||void 0===n?void 0:n.text,!0);return Object.assign(Object.assign({},t),{url:o,rtcSessionId:e.callData.rtcSessionId,apiKey:e.callData.apiKey,popupWindow:e.voiceWindowEmbed?null:uo(o),missedCallCTA:e.missedCallCTA})}))}}},dialing:{on:{NOTIFY_POPUP_CLOSED:{target:"closed",actions:fo},MISS_CALL:{target:"missed"},FOCUS_POPUP:{actions:t=>{var e;return null===(e=t.popupWindow)||void 0===e?void 0:e.focus()}},PICKED_UP:{target:"inCall"}}},inCall:{on:{NOTIFY_POPUP_CLOSED:{target:"closed",actions:fo},FOCUS_POPUP:{actions:t=>{var e;return null===(e=t.popupWindow)||void 0===e?void 0:e.focus()}},END_CALL:{target:"ended"}}},missed:{entry:ze((t=>Object.assign(Object.assign({},t),{url:t.url&&ao(t.url,"#missed")}))),on:{NOTIFY_POPUP_CLOSED:{target:"closed",actions:fo},NOTIFY_MISSED_CTA_CLICKED:{target:"closed",actions:ze((t=>{var e;return null===(e=t.missedCallCTA)||void 0===e||e.onClick(),Object.assign(Object.assign({},t),{popupWindow:null,url:void 0,missedCallCTA:void 0})}))}}},ended:{entry:ze((t=>Object.assign(Object.assign({},t),{url:t.url&&ao(t.url,"#ended")}))),on:{NOTIFY_POPUP_CLOSED:{target:"closed",actions:ze((t=>Object.assign(Object.assign({},t),{popupWindow:null,url:void 0})))}}}}})).start(),ho=t=>{let e=0,n=0;return po.subscribe((o=>{if("dialing"===o.value)e=Date.now(),t(o.value);else if("inCall"===o.value){n=Date.now();const i=n-e;t(o.value,{pickupDuration:i})}else if("ended"===o.value){const e=Date.now()-n;t(o.value,{callDuration:e})}else t(o.value)}))},mo=po.subscribe,vo=["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].some((t=>t in window));const bo=(t,e)=>{window.intercomSettings||(window.intercomSettings={}),window.intercomSettings.cohereSessionId=e,t("update",{cohereSessionId:e})};let yo=!1;const go=t=>{var e,n,o;e=window,o=()=>{const e=window.Intercom;"function"==typeof e&&(bo(e,t),yo||(e("onShow",(()=>{"function"==typeof window.Intercom&&bo(window.Intercom,t)})),yo=!0))},e[n="Intercom"]?o():Object.defineProperty(e,n,{configurable:!0,set:t=>{Object.defineProperty(e,n,{configurable:!0,writable:!0,value:t}),setTimeout(o,0)}})};var wo=m((function(t,e){e.__esModule=!0;e.default=["log","debug","info","warn","error","table","clear","time","timeEnd","count","assert"]})),Co=m((function(t,e){e.__esModule=!0,e.default=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+"-"+Date.now()}})),xo=m((function(t,e){e.__esModule=!0,e.update=e.state=void 0,e.update=function(t){e.state=t}})),So=m((function(t,e){var n=p&&p.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};e.__esModule=!0,e.initialState=void 0,e.initialState={timings:{},count:{}},e.default=function(t,o){var i,r,s;switch(void 0===t&&(t=e.initialState),o.type){case"COUNT":var a=t.count[o.name]||0;return n(n({},t),{count:n(n({},t.count),(i={},i[o.name]=a+1,i))});case"TIME_START":return n(n({},t),{timings:n(n({},t.timings),(r={},r[o.name]={start:performance.now()||+new Date},r))});case"TIME_END":var c=t.timings[o.name],l=performance.now()||+new Date,u=l-c.start;return n(n({},t),{timings:n(n({},t.timings),(s={},s[o.name]=n(n({},c),{end:l,time:u}),s))});default:return t}}})),Oo=m((function(t,e){e.__esModule=!0,e.default=function(t){xo.update(So.default(xo.state,t))}})),ko=m((function(t,e){e.__esModule=!0,e.timeEnd=e.timeStart=e.count=void 0,e.count=function(t){return{type:"COUNT",name:t}},e.timeStart=function(t){return{type:"TIME_START",name:t}},e.timeEnd=function(t){return{type:"TIME_END",name:t}}})),Lo=m((function(t,e){e.__esModule=!0,e.stop=e.start=void 0,e.start=function(t){Oo.default(ko.timeStart(t))},e.stop=function(t){var e=null===xo.state||void 0===xo.state?void 0:xo.state.timings[t];return e&&!e.end?(Oo.default(ko.timeEnd(t)),{method:"log",data:[t+": "+xo.state.timings[t].time+"ms"]}):{method:"warn",data:["Timer '"+t+"' does not exist"]}}})),Eo=m((function(t,e){e.__esModule=!0,e.increment=void 0,e.increment=function(t){return Oo.default(ko.count(t)),{method:"log",data:[t+": "+xo.state.count[t]]}}})),jo=m((function(t,e){var n=p&&p.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,i++)o[i]=r[s];return o};e.__esModule=!0,e.test=void 0,e.test=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return!t&&(0===e.length&&e.push("console.assert"),{method:"error",data:n(["Assertion failed:"],e)})}})),No=m((function(t,e){var n=p&&p.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=p&&p.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,i++)o[i]=r[s];return o};e.__esModule=!0,e.default=function(t,e,i){var r=i||Co.default();switch(t){case"clear":return{method:t,id:r};case"count":return!!(s="string"==typeof e[0]?e[0]:"default")&&n(n({},Eo.increment(s)),{id:r});case"time":case"timeEnd":var s;return!!(s="string"==typeof e[0]?e[0]:"default")&&("time"===t?(Lo.start(s),!1):n(n({},Lo.stop(s)),{id:r}));case"assert":if(0!==e.length){var a=jo.test.apply(jo,o([e[0]],e.slice(1)));if(a)return n(n({},a),{id:r})}return!1;case"error":return{method:t,id:r,data:e.map((function(t){try{return t.stack||t}catch(e){return t}}))};default:return{method:t,id:r,data:e}}}})),To=m((function(t,e){var n;e.__esModule=!0,function(t){t[t.infinity=0]="infinity",t[t.minusInfinity=1]="minusInfinity",t[t.minusZero=2]="minusZero"}(n||(n={})),e.default={type:"Arithmetic",shouldTransform:function(t,e){return"number"===t&&(e===1/0||e===-1/0||function(t){return 1/t==-1/0}(e))},toSerializable:function(t){return t===1/0?n.infinity:t===-1/0?n.minusInfinity:n.minusZero},fromSerializable:function(t){return t===n.infinity?1/0:t===n.minusInfinity?-1/0:t===n.minusZero?-0:t}}})),Mo=m((function(t,e){e.__esModule=!0,e.default={type:"Function",shouldTransform:function(t,e){return"function"==typeof e},toSerializable:function(t){var e="";try{e=t.toString().substring(e.indexOf("{")+1,e.lastIndexOf("}"))}catch(t){}return{name:t.name,body:e,proto:Object.getPrototypeOf(t).constructor.name}},fromSerializable:function(t){try{var e=function(){};return"string"==typeof t.name&&Object.defineProperty(e,"name",{value:t.name,writable:!1}),"string"==typeof t.body&&Object.defineProperty(e,"body",{value:t.body,writable:!1}),"string"==typeof t.proto&&(e.constructor={name:t.proto}),e}catch(e){return t}}}})),Io=m((function(t,e){e.__esModule=!0;var n=document.implementation.createHTMLDocument("sandbox");function o(t){for(var e={},n=0,o=t.attributes;n<o.length;n++){var i=o[n];e[i.name]=i.value}return e}e.default={type:"HTMLElement",shouldTransform:function(t,e){return e&&e.children&&"string"==typeof e.innerHTML&&"string"==typeof e.tagName},toSerializable:function(t){return{tagName:t.tagName.toLowerCase(),attributes:o(t),innerHTML:t.innerHTML}},fromSerializable:function(t){try{var e=n.createElement(t.tagName);e.innerHTML=t.innerHTML;for(var o=0,i=Object.keys(t.attributes);o<i.length;o++){var r=i[o];try{e.setAttribute(r,t.attributes[r])}catch(t){}}return e}catch(e){return t}}}})),Ao=m((function(t,e){var n=p&&p.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};e.__esModule=!0,e.default={type:"Map",shouldTransform:function(t,e){return e&&e.constructor&&"Map"===e.constructor.name},toSerializable:function(t){var e={};return t.forEach((function(t,n){var o="object"==typeof n?JSON.stringify(n):n;e[o]=t})),{name:"Map",body:e,proto:Object.getPrototypeOf(t).constructor.name}},fromSerializable:function(t){var e=t.body,o=n({},e);return"string"==typeof t.proto&&(o.constructor={name:t.proto}),o}}})),Do=m((function(t,e){e.__esModule=!0;var n=/^#*@(t|r)$/,o=globalThis,i="function"==typeof ArrayBuffer,r="function"==typeof Map,s="function"==typeof Set,a=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],c=Array.prototype.slice,l={serialize:function(t){return JSON.stringify(t)},deserialize:function(t){return JSON.parse(t)}},u=function(){function t(t,e){this.references=t,this.transforms=e,this.circularCandidates=[],this.circularCandidatesDescrs=[],this.circularRefCount=0}return t._createRefMark=function(t){var e=Object.create(null);return e["@r"]=t,e},t.prototype._createCircularCandidate=function(t,e,n){this.circularCandidates.push(t),this.circularCandidatesDescrs.push({parent:e,key:n,refIdx:-1})},t.prototype._applyTransform=function(t,e,n,o,i){var r=Object.create(null),s=o.toSerializable(t);return"object"==typeof s&&this._createCircularCandidate(t,e,n),r["@t"]=o.type,r.data=this._handleValue((function(){return s}),e,n,i+1,!0),r},t.prototype._handleExceededDepth=function(){return"Object exceeded max object depth, cannot display further values"},t.prototype._handleExceededTransformTime=function(){return"Time limit exceeded for object transformation"},t.prototype._handleArray=function(t,e){for(var n=[],o=t.length>50?50:t.length,i=function(o){n[o]=r._handleValue((function(){return t[o]}),n,o,e+1)},r=this,s=0;s<o;s++)i(s);return n},t.prototype._handlePlainObject=function(t,e){for(var o,i,r=Object.create(null),s=Object.keys(t).slice(0,50),a=function(o){if(Reflect.has(t,o)){var i=n.test(o)?"#"+o:o;r[i]=c._handleValue((function(){return t[o]}),r,i,e+1)}},c=this,l=0,u=s;l<u.length;l++){a(u[l])}var d=null===(i=null===(o=null==t?void 0:t.__proto__)||void 0===o?void 0:o.constructor)||void 0===i?void 0:i.name;return d&&"Object"!==d&&(r.constructor={name:d}),r},t.prototype._handleObject=function(t,e,n,o){return this._createCircularCandidate(t,e,n),Array.isArray(t)?this._handleArray(t,o):this._handlePlainObject(t,o)},t.prototype._ensureCircularReference=function(e){var n=this.circularCandidates.indexOf(e);if(n>-1){var o=this.circularCandidatesDescrs[n];return-1===o.refIdx&&(o.refIdx=o.parent?++this.circularRefCount:0),t._createRefMark(o.refIdx)}return null},t.prototype._handleValue=function(t,e,n,o,i){var r=o>5,s=performance.now()-this.transformStart>20;try{var a=t(),c=typeof a,l="object"===c&&null!==a;if(l){var u=this._ensureCircularReference(a);if(u)return u}for(var d=0,f=this.transforms;d<f.length;d++){var p=f[d];if(p.shouldTransform(c,a))return this._applyTransform(a,e,n,p,o)}if(l){if(i||!s&&!r)return this._handleObject(a,e,n,o);if(r)return this._handleExceededDepth();if(s)return this._handleExceededTransformTime()}return a}catch(t){try{return this._handleValue((function(){return t instanceof Error?t:new Error(t)}),e,n,o)}catch(t){return null}}},t.prototype.transform=function(){var e=this;this.transformStart=performance.now();for(var n=[this._handleValue((function(){return e.references}),null,null,0)],o=0,i=this.circularCandidatesDescrs;o<i.length;o++){var r=i[o];r.refIdx>0&&(n[r.refIdx]=r.parent[r.key],r.parent[r.key]=t._createRefMark(r.refIdx))}return n},t}(),d=function(){function t(t,e){this.activeTransformsStack=[],this.visitedRefs=Object.create(null),this.references=t,this.transformMap=e}return t.prototype._handlePlainObject=function(t){var e=Object.create(null);for(var o in"constructor"in t&&(t.constructor&&"string"==typeof t.constructor.name||(t.constructor={name:"Object"})),t)t.hasOwnProperty(o)&&(this._handleValue(t[o],t,o),n.test(o)&&(e[o.substring(1)]=t[o],delete t[o]));for(var i in e)t[i]=e[i]},t.prototype._handleTransformedObject=function(t,e,n){var o=t["@t"],i=this.transformMap[o];if(!i)throw new Error("Can't find transform for \""+o+'" type.');this.activeTransformsStack.push(t),this._handleValue(t.data,t,"data"),this.activeTransformsStack.pop(),e[n]=i.fromSerializable(t.data)},t.prototype._handleCircularSelfRefDuringTransform=function(t,e,n){var o=this.references;Object.defineProperty(e,n,{val:void 0,configurable:!0,enumerable:!0,get:function(){return void 0===this.val&&(this.val=o[t]),this.val},set:function(t){this.val=t}})},t.prototype._handleCircularRef=function(t,e,n){this.activeTransformsStack.includes(this.references[t])?this._handleCircularSelfRefDuringTransform(t,e,n):(this.visitedRefs[t]||(this.visitedRefs[t]=!0,this._handleValue(this.references[t],this.references,t)),e[n]=this.references[t])},t.prototype._handleValue=function(t,e,n){if("object"==typeof t&&null!==t){var o=t["@r"];if(void 0!==o)this._handleCircularRef(o,e,n);else if(t["@t"])this._handleTransformedObject(t,e,n);else if(Array.isArray(t))for(var i=0;i<t.length;i++)this._handleValue(t[i],t,i);else this._handlePlainObject(t)}},t.prototype.transform=function(){return this.visitedRefs[0]=!0,this._handleValue(this.references[0],this.references,0),this.references[0]},t}(),f=[{type:"[[NaN]]",shouldTransform:function(t,e){return"number"===t&&isNaN(e)},toSerializable:function(){return""},fromSerializable:function(){return NaN}},{type:"[[undefined]]",shouldTransform:function(t){return"undefined"===t},toSerializable:function(){return""},fromSerializable:function(){}},{type:"[[Date]]",shouldTransform:function(t,e){return e instanceof Date},toSerializable:function(t){return t.getTime()},fromSerializable:function(t){var e=new Date;return e.setTime(t),e}},{type:"[[RegExp]]",shouldTransform:function(t,e){return e instanceof RegExp},toSerializable:function(t){var e={src:t.source,flags:""};return t.global&&(e.flags+="g"),t.ignoreCase&&(e.flags+="i"),t.multiline&&(e.flags+="m"),e},fromSerializable:function(t){return new RegExp(t.src,t.flags)}},{type:"[[Error]]",shouldTransform:function(t,e){return e instanceof Error},toSerializable:function(t){var e,n;return t.stack||null===(n=(e=Error).captureStackTrace)||void 0===n||n.call(e,t),{name:t.name,message:t.message,stack:t.stack}},fromSerializable:function(t){var e=new(o[t.name]||Error)(t.message);return e.stack=t.stack,e}},{type:"[[ArrayBuffer]]",shouldTransform:function(t,e){return i&&e instanceof ArrayBuffer},toSerializable:function(t){var e=new Int8Array(t);return c.call(e)},fromSerializable:function(t){if(i){var e=new ArrayBuffer(t.length);return new Int8Array(e).set(t),e}return t}},{type:"[[TypedArray]]",shouldTransform:function(t,e){for(var n=0,i=a;n<i.length;n++){var r=i[n];if("function"==typeof o[r]&&e instanceof o[r])return!0}return!1},toSerializable:function(t){return{ctorName:t.constructor.name,arr:c.call(t)}},fromSerializable:function(t){return"function"==typeof o[t.ctorName]?new o[t.ctorName](t.arr):t.arr}},{type:"[[Map]]",shouldTransform:function(t,e){return r&&e instanceof Map},toSerializable:function(t){var e=[];return t.forEach((function(t,n){e.push(n),e.push(t)})),e},fromSerializable:function(t){if(r){for(var e=new Map,n=0;n<t.length;n+=2)e.set(t[n],t[n+1]);return e}for(var o=[],i=0;i<t.length;i+=2)o.push([t[n],t[n+1]]);return o}},{type:"[[Set]]",shouldTransform:function(t,e){return s&&e instanceof Set},toSerializable:function(t){var e=[];return t.forEach((function(t){e.push(t)})),e},fromSerializable:function(t){if(s){for(var e=new Set,n=0;n<t.length;n++)e.add(t[n]);return e}return t}}],p=function(){function t(t){this.transforms=[],this.transformsMap=Object.create(null),this.serializer=t||l,this.addTransforms(f)}return t.prototype.addTransforms=function(t){for(var e=0,n=t=Array.isArray(t)?t:[t];e<n.length;e++){var o=n[e];if(this.transformsMap[o.type])throw new Error('Transform with type "'+o.type+'" was already added.');this.transforms.push(o),this.transformsMap[o.type]=o}return this},t.prototype.removeTransforms=function(t){for(var e=0,n=t=Array.isArray(t)?t:[t];e<n.length;e++){var o=n[e],i=this.transforms.indexOf(o);i>-1&&this.transforms.splice(i,1),delete this.transformsMap[o.type]}return this},t.prototype.encode=function(t){var e=new u(t,this.transforms).transform();return this.serializer.serialize(e)},t.prototype.decode=function(t){var e=this.serializer.deserialize(t);return new d(e,this.transformsMap).transform()},t}();e.default=p})),_o=m((function(t,e){e.__esModule=!0,e.Decode=e.Encode=void 0;var n=[Io.default,Mo.default,To.default,Ao.default],o=new Do.default;o.addTransforms(n),e.Encode=function(t){return JSON.parse(o.encode(t))},e.Decode=function(t){return o.decode(JSON.stringify(t))}})),Ro=h(m((function(t,e){e.__esModule=!0,e.default=function(t,e,n){void 0===n&&(n=!0);for(var o=t,i={pointers:{},src:{npm:"https://npmjs.com/package/console-feed",github:"https://github.com/samdenty99/console-feed"}},r=function(t){var r=o[t];o[t]=function(){r.apply(this,arguments);var o=[].slice.call(arguments);setTimeout((function(){var i=No.default(t,o);if(i){var r=i;n&&(r=_o.Encode(i)),e(r,i)}}))},i.pointers[t]=r},s=0,a=wo.default;s<a.length;s++){r(a[s])}return o.feed=i,o}})));const Ho=(t,e,n,o)=>{const i=Me(t,n,o),r=Me(t,1e4,{maxWait:2e4});let s=e?r:i;return{schedule:(...t)=>s(...t),setIdle:t=>{const e=t?r:i;e!==s&&(s.flush(),s=e)},flush:()=>s.flush()}},Fo=t=>{const e=navigator.language.toLowerCase();if(e.startsWith("en"))return t;if(e.startsWith("pt"))switch(t){case"Sharing this webpage":return"Compartilhando esta página web";case"is requesting permission to control this webpage.":return"está pedindo permissão para controlar sua página.";case"Share this code with your support agent":return"Partilhe este código com o seu agente de apoio";case"The remote control session has ended":return"A sessão de controlo remoto terminou";case"Grant access":return"Permitir acesso";case"No thanks":return"Não, obrigado";case"is inviting you to join a call":return"convida-o para um telefonema"}if(e.startsWith("es"))switch(t){case"Sharing this webpage":return"Compartiendo esta página web";case"is requesting permission to control this webpage.":return"está pidiendo permiso para controlar su página.";case"Grant access":return"Permitir acceso";case"Share this code with your support agent":return"Comparte este código con tu agente de apoyo";case"The remote control session has ended":return"La sesión de control remoto ha terminado";case"No thanks":return"No, gracias";case"is inviting you to join a call":return"le invita a una llamada"}if(e.startsWith("de"))switch(t){case"Sharing this webpage":return"Webseite wird freigegeben";case"is requesting permission to control this webpage.":return"bittet um Erlaubnis, diese Webseite zu steuern";case"Grant access":return"Zugang gewähren";case"Share this code with your support agent":return"Geben Sie diesen Code an Ihren Support-Mitarbeiter weiter";case"The remote control session has ended":return"Die Fernsteuerungssitzung wurde beendet";case"No thanks":return"Nein, Danke";case"is inviting you to join a call":return"lädt Sie ein, anzurufen"}if(e.startsWith("mn"))switch(t){case"Hi":return"Сайн байну уу";case", a live support agent would like to provide you help, please accept if you would like this.":return" манай туслах багийн гишүүн танд шууд туслалцаа үзүүлэх боломжтой байна. Доорх товчийг дарж эхлүүлээрэй."}return console.warn(`No translation detected for ${t} in ${e}.`),t},zo=t=>{const e=Vn(t);return $n((()=>{null!=t&&(e.current=t)}),[t]),null!=t?t:e.current},Po=t=>e=>{const n=oo(e.isOpen),[o,i]=Wn(void 0);return $n((()=>{if(e.isOpen)i(!0);else if(n){i(!1);const t=setTimeout((()=>i(void 0)),150);return()=>clearTimeout(t)}}),[e.isOpen]),e.isOpen||void 0!==o?cn(t,Object.assign({},e,{isOpen:o||!1})):null},Wo=e=>{var{style:n}=e,o=t(e,["style"]);return cn("svg",Object.assign({width:"65",height:"20",viewBox:"0 0 70 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign({},n),{cursor:"pointer"})},o,{onClick:io}),cn("path",{d:"M24.162 16.2172C25.364 16.2172 26.3584 15.9131 27.1453 15.3049C27.9369 14.6966 28.4872 13.8784 28.7962 12.8502L27.2611 12.4375C27.0535 13.1664 26.6915 13.7384 26.175 14.1536C25.6585 14.5687 24.9875 14.7763 24.162 14.7763C23.4234 14.7763 22.8056 14.6097 22.3083 14.2767C21.816 13.9436 21.4443 13.4778 21.1932 12.8792C20.9471 12.2806 20.8264 11.5831 20.8312 10.7866C20.836 9.99005 20.9615 9.29251 21.2077 8.69393C21.4539 8.09535 21.8232 7.62952 22.3156 7.29644C22.808 6.96336 23.4234 6.79682 24.162 6.79682C24.9875 6.79682 25.6585 7.00439 26.175 7.41954C26.6915 7.83468 27.0535 8.40671 27.2611 9.13563L28.7962 8.7229C28.4872 7.69469 27.9369 6.87647 27.1453 6.26823C26.3584 5.66 25.364 5.35588 24.162 5.35588C23.1193 5.35588 22.2311 5.58517 21.4974 6.04376C20.7636 6.50235 20.2012 7.13955 19.8102 7.95536C19.4241 8.76634 19.231 9.71007 19.231 10.7866C19.231 11.863 19.4241 12.8092 19.8102 13.625C20.2012 14.436 20.7636 15.0708 21.4974 15.5293C22.2311 15.9879 23.1193 16.2172 24.162 16.2172ZM33.7847 16.2172C34.5619 16.2172 35.2377 16.0434 35.8122 15.6959C36.3866 15.3435 36.8307 14.8584 37.1445 14.2405C37.4631 13.6177 37.6224 12.8985 37.6224 12.0827C37.6224 11.2765 37.4655 10.5645 37.1517 9.94661C36.838 9.32389 36.3939 8.83875 35.8194 8.49119C35.245 8.1388 34.5667 7.9626 33.7847 7.9626C33.0172 7.9626 32.3462 8.13638 31.7717 8.48395C31.1973 8.83151 30.7508 9.31424 30.4322 9.93213C30.1136 10.55 29.9543 11.2669 29.9543 12.0827C29.9543 12.8888 30.1112 13.6033 30.4249 14.226C30.7387 14.8487 31.1804 15.3363 31.75 15.6886C32.3245 16.041 33.0027 16.2172 33.7847 16.2172ZM33.7847 14.7908C33.0558 14.7908 32.5031 14.547 32.1266 14.0594C31.75 13.5671 31.5618 12.9081 31.5618 12.0827C31.5618 11.2862 31.7428 10.6393 32.1048 10.1421C32.4669 9.64008 33.0268 9.38906 33.7847 9.38906C34.5233 9.38906 35.0784 9.63284 35.4501 10.1204C35.8266 10.6079 36.0149 11.262 36.0149 12.0827C36.0149 12.884 35.8291 13.5357 35.4574 14.0377C35.0905 14.5398 34.5329 14.7908 33.7847 14.7908ZM39.2063 16H40.7414V11.9306C40.7414 11.3127 40.8307 10.8203 41.0093 10.4535C41.1928 10.0818 41.4341 9.81386 41.7334 9.64973C42.0327 9.4856 42.3634 9.40354 42.7254 9.40354C43.1406 9.40354 43.4785 9.48802 43.7391 9.65697C43.9998 9.82593 44.2001 10.048 44.3401 10.3231C44.4801 10.5983 44.5743 10.8976 44.6225 11.221C44.6756 11.5396 44.7022 11.851 44.7022 12.1551V16H46.2372V11.6555C46.2372 11.4141 46.2155 11.1341 46.1721 10.8155C46.1286 10.4969 46.0466 10.1711 45.9259 9.838C45.8052 9.50491 45.629 9.19838 45.3973 8.9184C45.1704 8.63359 44.8735 8.4043 44.5067 8.23052C44.1398 8.05673 43.686 7.96984 43.1454 7.96984C42.5806 7.96984 42.0786 8.07122 41.6393 8.27396C41.2048 8.47671 40.8452 8.75669 40.5604 9.11391V5.57311H39.2063V16ZM51.5917 16.2172C52.3495 16.2172 53.0374 16.0265 53.6553 15.6452C54.2732 15.259 54.7342 14.7159 55.0383 14.016L53.554 13.5453C53.1581 14.3756 52.4799 14.7908 51.5193 14.7908C50.8627 14.7908 50.3462 14.5929 49.9697 14.197C49.5932 13.8012 49.3735 13.2412 49.3108 12.5171H55.1397C55.1928 11.5806 55.0818 10.7721 54.8066 10.0914C54.5315 9.41078 54.1139 8.88702 53.554 8.52015C52.994 8.14845 52.3158 7.9626 51.5193 7.9626C50.7565 7.9626 50.088 8.13397 49.5135 8.47671C48.9391 8.81944 48.4901 9.30458 48.1667 9.93213C47.8481 10.5597 47.6888 11.3007 47.6888 12.1551C47.6888 12.9612 47.8505 13.6708 48.174 14.2839C48.5022 14.8921 48.9584 15.3676 49.5425 15.7104C50.1314 16.0483 50.8145 16.2172 51.5917 16.2172ZM51.5772 9.30217C52.7599 9.30217 53.4309 9.9804 53.5902 11.3369H49.347C49.4435 10.6755 49.6777 10.1711 50.0494 9.82351C50.4211 9.47595 50.9303 9.30217 51.5772 9.30217ZM56.7643 16H58.2921V12.0537C58.2921 11.5951 58.3645 11.1703 58.5093 10.7793C58.6541 10.3883 58.91 10.0745 59.2769 9.838C59.5375 9.66904 59.8248 9.57008 60.1385 9.54112C60.4523 9.51215 60.7347 9.53146 60.9857 9.59905V8.17983C60.6333 8.11225 60.2592 8.11466 59.8634 8.18707C59.4724 8.25948 59.1296 8.4043 58.8352 8.62152C58.5455 8.81462 58.3042 9.08253 58.1111 9.42526V8.17983H56.7643V16ZM65.6916 16.2172C66.4495 16.2172 67.1374 16.0265 67.7553 15.6452C68.3732 15.259 68.8342 14.7159 69.1383 14.016L67.6539 13.5453C67.2581 14.3756 66.5798 14.7908 65.6192 14.7908C64.9627 14.7908 64.4462 14.5929 64.0697 14.197C63.6931 13.8012 63.4735 13.2412 63.4107 12.5171H69.2397C69.2928 11.5806 69.1817 10.7721 68.9066 10.0914C68.6314 9.41078 68.2139 8.88702 67.6539 8.52015C67.0939 8.14845 66.4157 7.9626 65.6192 7.9626C64.8565 7.9626 64.1879 8.13397 63.6135 8.47671C63.039 8.81944 62.5901 9.30458 62.2667 9.93213C61.9481 10.5597 61.7888 11.3007 61.7888 12.1551C61.7888 12.9612 61.9505 13.6708 62.2739 14.2839C62.6022 14.8921 63.0583 15.3676 63.6424 15.7104C64.2314 16.0483 64.9144 16.2172 65.6916 16.2172ZM65.6771 9.30217C66.8598 9.30217 67.5308 9.9804 67.6901 11.3369H63.4469C63.5435 10.6755 63.7776 10.1711 64.1493 9.82351C64.521 9.47595 65.0303 9.30217 65.6771 9.30217Z",fill:"currentColor"}),cn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.0999 17.013C11.0211 17.013 14.1998 13.8343 14.1998 9.91314C14.1998 5.99197 11.0211 2.81323 7.0999 2.81323C7.00339 2.81323 6.90733 2.81516 6.81175 2.81897H6.2235e-07V9.91314C6.2235e-07 9.91498 -7.77938e-07 9.91682 6.2235e-07 9.91866C0.00298262 13.8373 3.18058 17.013 7.0999 17.013Z",fill:"currentColor"}),cn("path",{d:"M10.6552 5.62654L10.4092 5.44461C9.45561 4.73955 8.29687 4.35445 7.10093 4.35449L1.57658 4.35449L1.57671 4.35542H1.54707V5.6312H3.00857C3.00857 5.6312 3.01 5.63122 3.01071 5.63123H7.10093C8.12941 5.63149 9.12368 6.00135 9.90224 6.67338C10.4861 7.17731 10.9195 7.82598 11.1633 8.54794H12.5006C12.2077 7.3862 11.5497 6.36922 10.6552 5.62654Z",fill:"white"}),cn("path",{d:"M7.0681 8.74604L7.05905 8.74607L7.04952 8.74618C7.0557 8.74609 7.0619 8.74604 7.0681 8.74604Z",fill:"white"}),cn("path",{d:"M6.84716 7.2835V7.28516L7.04696 7.28358C7.054 7.28353 7.06105 7.2835 7.0681 7.2835C8.52042 7.2835 9.69776 8.46084 9.69776 9.91316C9.69776 11.3655 8.52042 12.5428 7.0681 12.5428L7.05309 12.5428L7.03984 12.5427C5.69721 12.5285 4.59574 11.5081 4.45389 10.2H5.73293C5.85971 10.7929 6.37115 11.243 6.99345 11.2765C7.01817 11.2779 7.04306 11.2785 7.0681 11.2785C7.82217 11.2785 8.43347 10.6672 8.43347 9.91316C8.43347 9.15909 7.82217 8.5478 7.0681 8.5478C7.06141 8.5478 7.05472 8.54784 7.04804 8.54794L2.80534 8.5478L2.80611 8.69849L2.80599 8.75431C2.80595 8.77385 2.80615 8.79297 2.80634 8.81171L2.80634 8.81231L2.80635 8.81279C2.80674 8.85021 2.80713 8.88975 2.80604 8.94363L2.80589 8.95096C2.7979 9.34551 2.78392 10.035 2.86173 10.5546C2.9625 11.2276 3.22207 11.867 3.61896 12.4198C4.01585 12.9726 4.53866 13.423 5.14413 13.7336C5.74959 14.0443 6.4203 14.2063 7.10079 14.2063C8.12954 14.2065 9.1241 13.8365 9.90265 13.1641C10.2098 12.8988 10.4752 12.5935 10.6932 12.2585L10.7253 12.2092V12.2009C11.0958 11.6147 11.3281 10.9323 11.3765 10.2H12.662C12.5807 11.8061 11.819 13.2329 10.6588 14.1979L10.4092 14.3823C9.38614 15.1385 8.13033 15.5241 6.85047 15.4661C5.42133 15.4015 4.07201 14.7889 3.08269 13.7555C2.09347 12.7222 1.5402 11.3476 1.53772 9.91719V7.2835H6.84716Z",fill:"white"}),cn("path",{d:"M3.00459 8.9276C3.0045 8.93408 3.00438 8.94075 3.00424 8.94764C3.00439 8.94022 3.00451 8.93305 3.00461 8.92611L3.00459 8.9276Z",fill:"white"}))},$o=e=>{var{style:n}=e,o=t(e,["style"]);return cn("svg",Object.assign({width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign({},n),{cursor:"pointer"})},o,{onClick:io}),cn("path",{d:"M19.6828 2.74608L19.1516 2.35333C17.0931 0.831248 14.5916 -8.09631e-05 12.0098 5.91386e-09L0.0838988 5.39152e-06L0.0841656 0.00199903H0.0201811V2.75613H3.17526C3.17526 2.75613 3.17833 2.75618 3.17987 2.7562H12.0098C14.2301 2.75678 16.3765 3.55522 18.0572 5.00599C19.3176 6.09387 20.2532 7.49421 20.7795 9.05277H23.6665C23.0343 6.54481 21.6137 4.34937 19.6828 2.74608Z",fill:"currentColor"}),cn("path",{d:"M11.9389 9.48042L11.9194 9.48049L11.8988 9.48073C11.9122 9.48052 11.9255 9.48042 11.9389 9.48042Z",fill:"currentColor"}),cn("path",{d:"M11.462 6.32311V6.32668L11.8933 6.32329C11.9085 6.32317 11.9237 6.32311 11.9389 6.32311C15.0742 6.32311 17.6158 8.86474 17.6158 12C17.6158 15.1352 15.0742 17.6769 11.9389 17.6769L11.9065 17.6768L11.8779 17.6766C8.97945 17.646 6.60162 15.4432 6.29539 12.6191H9.05658C9.33027 13.8991 10.4344 14.8708 11.7778 14.9432C11.8311 14.9461 11.8849 14.9475 11.9389 14.9475C13.5668 14.9475 14.8865 13.6279 14.8865 12C14.8865 10.3721 13.5668 9.05246 11.9389 9.05246C11.9245 9.05246 11.91 9.05256 11.8956 9.05277L2.73652 9.05245L2.73818 9.37778L2.73793 9.49827C2.73784 9.54047 2.73826 9.58173 2.73868 9.62219L2.73869 9.62348L2.7387 9.62451C2.73954 9.7053 2.74039 9.79065 2.73803 9.90697L2.73771 9.92281C2.72045 10.7745 2.69029 12.263 2.85825 13.3848C3.0758 14.8377 3.63615 16.2179 4.49295 17.4113C5.34976 18.6047 6.47839 19.5769 7.78549 20.2475C9.09253 20.9182 10.5405 21.2679 12.0095 21.268C14.2304 21.2683 16.3774 20.4697 18.0581 19.018C18.7211 18.4454 19.2941 17.7862 19.7647 17.063L19.834 16.9566V16.9386C20.6339 15.6732 21.1354 14.2 21.2398 12.6191H24.0149C23.8394 16.0865 22.1951 19.1666 19.6905 21.2498L19.1517 21.648C16.9431 23.2804 14.2321 24.1127 11.4691 23.9877C8.3839 23.8481 5.47099 22.5256 3.33527 20.2947C1.19975 18.0641 0.00534504 15.0967 0 12.0087V6.32311H11.462Z",fill:"currentColor"}),cn("path",{d:"M3.16667 9.87238C3.16646 9.88635 3.16621 9.90076 3.16591 9.91564C3.16623 9.89961 3.1665 9.88414 3.16672 9.86916L3.16667 9.87238Z",fill:"currentColor"}))},Uo="data:image/svg+xml,%3csvg width='12' height='18' viewBox='0 0 12 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cg clip-path='url(%23clip0)'%3e %3cpath d='M7.29842 8.99997L11.0854 5.21293C11.3045 4.99391 11.3045 4.63848 11.0854 4.41911L10.2055 3.53915C9.98646 3.32012 9.63103 3.32012 9.41166 3.53915L5.62498 7.32653L1.83795 3.5395C1.61893 3.32047 1.2635 3.32047 1.04412 3.5395L0.164512 4.41911C-0.0545117 4.63813 -0.0545117 4.99356 0.164512 5.21293L3.95154 8.99997L0.164512 12.787C-0.0545117 13.006 -0.0545117 13.3614 0.164512 13.5808L1.04447 14.4608C1.2635 14.6798 1.61893 14.6798 1.8383 14.4608L5.62498 10.6734L9.41201 14.4604C9.63103 14.6795 9.98646 14.6795 10.2058 14.4604L11.0858 13.5805C11.3048 13.3615 11.3048 13.006 11.0858 12.7866L7.29842 8.99997Z' fill='%23636363'/%3e %3c/g%3e %3cdefs%3e %3cclipPath id='clip0'%3e %3crect width='11.25' height='18' fill='white'/%3e %3c/clipPath%3e %3c/defs%3e%3c/svg%3e";const Vo=()=>cn("svg",{width:"32",height:"12",viewBox:"0 0 32 12",fill:"none"},cn("path",{d:"M16 2.7333C13.8667 2.7333 11.8667 3.1333 9.86667 3.66664V7.79996C9.86667 8.33324 9.6 8.7333 9.06667 8.99991C7.73333 9.66658 6.53333 10.4666 5.46667 11.5332C5.2 11.8 4.93333 11.9332 4.53333 11.9332C4.13333 11.9332 3.86667 11.7999 3.6 11.5332L0.266667 8.19997C0.133333 7.9333 0 7.66663 0 7.26663C0 6.86663 0.133333 6.59997 0.4 6.33325C4.4 2.46659 10 0.0665894 16 0.0665894C22 0.0665894 27.6 2.46659 31.6 6.33325C31.8667 6.59997 32 6.86658 32 7.26663C32 7.66658 31.8667 7.9333 31.6 8.19997L28.2667 11.5333C28 11.8 27.7334 11.9333 27.3333 11.9333C26.9333 11.9333 26.6667 11.8 26.4 11.5333C25.3333 10.6 24.1333 9.66663 22.7999 8.99996C22.4 8.7333 21.9999 8.3333 21.9999 7.80002V3.66669C20.1333 3.1333 18.1333 2.7333 16 2.7333Z",fill:"white"})),Bo=({onClick:t,accept:e})=>cn("div",{className:"call-answer-button "+(e?"accept":"reject"),onClick:t},cn(Vo,null)),Zo=({onClick:t})=>cn("div",{className:"iframe-button collapse-button",onClick:t},cn("svg",{fill:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px"},cn("path",{d:"M 19.589844 2.9960938 L 15.292969 7.2929688 L 13 5 L 13 11 L 19 11 L 16.707031 8.7070312 L 21.003906 4.4101562 L 19.589844 2.9960938 z M 5 13 L 7.2929688 15.292969 L 2.9960938 19.589844 L 4.4101562 21.003906 L 8.7070312 16.707031 L 11 19 L 11 13 L 5 13 z"}))),Go=({onClick:t})=>cn("div",{className:"iframe-button maximize-button",onClick:t},cn("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px"},cn("path",{d:"M 15 3 L 17.292969 5.2929688 L 5.2929688 17.292969 L 3 15 L 3 21 L 9 21 L 6.7070312 18.707031 L 18.707031 6.7070312 L 21 9 L 21 3 L 15 3 z"}))),Yo=({onClick:t})=>cn("div",{className:"iframe-button collapse-button",onClick:t},cn("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18px",height:"18px"},cn("path",{d:"M19,3H5C3.895,3,3,3.895,3,5v14c0,1.105,0.895,2,2,2h14c1.105,0,2-0.895,2-2V5C21,3.895,20.105,3,19,3z M16,17H8v-2h8V17z M19,19H5V5h14V19z"}))),qo=({cursorPos:t,userId:e,clickEmitter:n})=>{const o=Vn(null);Un((()=>{const t=()=>{const{current:t}=o;null==t||t.classList.remove("active"),null==t||t.getBoundingClientRect(),null==t||t.classList.add("active")};return n.on(e,t),()=>{n.off(e,t)}}),[n,e]);const i=`replayer-mouse-${e}`;return cn(un,null,cn("style",null,`.${i}:after{content:"${t.name}";}`),cn("div",{ref:o,className:`replayer-mouse ${i}`,style:{left:`${t.x}px`,top:`${t.y}px`}}))},Jo=({cursors:t,clickEmitter:e})=>cn(un,null,Object.entries(t).map((([t,n])=>cn(qo,{key:t,userId:t,cursorPos:n,clickEmitter:e}))));let Ko=!1;const Xo="all 0.20s ease 0s",Qo=({top:t,right:e,bottom:n,left:o,size:i})=>cn("div",{style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({width:i,height:i,borderRadius:"50%",backgroundColor:"#29ED85",boxShadow:"0px 4px 8px rgba(41, 237, 133, 0.25)",position:"absolute"},t&&{top:t}),e&&{right:e}),n&&{bottom:n}),o&&{left:o}),{transition:Xo})}),ti=({imageId:t,size:e,showGreenDot:n,clickable:o})=>{const i=e/2*Math.sqrt(2)-e/2-11;return cn("div",{className:"widget-avatar",style:{width:`${e}px`,height:`${e}px`,borderRadius:"50%",backgroundColor:t?"initial":"#09382f",boxShadow:"0 24px 48px rgb(0 0 0 / 20%), 0 0 1px rgb(0 0 0 / 5%)",position:"relative",transition:Xo}},cn("div",{style:{borderRadius:"50%",width:"100%",height:"100%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"}},t?cn("div",{className:o?"logo-image":void 0,style:{width:"100%",height:"100%",backgroundImage:`url("https://api.cohere.so/image/${t}")`,backgroundSize:"cover",backgroundPosition:"center"}}):cn($o,{style:{pointerEvents:"none",color:"white",transform:"scale(1.1)"}})),n&&cn(Qo,{right:`${i}px`,top:`${i}px`,size:16/70*e}))},ei=Po((({isOpen:t,onCall:e,title:n="Need help?",description:o="We're here to take care of everything! Give us a call!",buttonText:i="Talk now",position:r="bottomRight",ringImage:s,isExpanded:a,setIsExpanded:c,flags:l})=>{var u;$n((()=>{a&&(()=>{if(!Ko){Ko=!0;const t=document.createElement("link");t.rel="preconnect",t.href=co,document.head.appendChild(t)}})()}),[a]);const d=(t=>{const e=Zn((()=>!!t&&window.matchMedia(`(max-width: ${t})`).matches),[t]),[n,o]=Wn(e);return $n((()=>{const t=()=>{o(e())};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e]),n})(null===(u=l.moveModal)||void 0===u?void 0:u.breakpoint);return cn("div",{style:{pointerEvents:"none",opacity:t?1:0,position:"fixed",bottom:"12px",right:"bottomRight"===r?"12px":"auto",left:"bottomLeft"===r?"12px":"auto"}},cn("div",{className:"popup opened",style:Object.assign({height:"auto",padding:"24px",transform:"translateY(0%)",opacity:1,transition:Xo,width:320,marginBottom:l.moveModal&&d?l.moveModal.bottom:"env(safe-area-inset-bottom)"},!a&&{opacity:0,pointerEvents:"none",transform:"translateY(120%)"})},cn("div",{style:{fontSize:"14px"}},cn("h3",{style:{marginTop:"26px",marginBottom:"0px",fontSize:"20px",fontWeight:600}},n),cn("p",{style:{color:"#625A41",marginBottom:"20px",marginTop:"10px"}},o),cn("button",{className:"primary",disabled:!a,onClick:e,style:{fontSize:"inherit",padding:16}},i)),cn("img",{src:Uo,onClick:t=>{t.stopPropagation(),c(!1)},className:"close-icon",alt:"Close widget",style:{right:"4px",top:"4px",padding:"8px 12px"}})),cn("div",{style:{position:"absolute",bottom:a?"100%":l.moveModal&&d?l.moveModal.bottom:"env(safe-area-inset-bottom)",transform:a?"bottomRight"===r?"translate(50%, 30px)":"translate(-50%, 30px)":"translate(0%, 0%)",cursor:a?"auto":"pointer",webkitTapHighlightColor:"rgba(0, 0, 0, 0)",right:"bottomRight"===r?a?"50%":0:"auto",left:"bottomLeft"===r?a?"50%":0:"auto",transition:Xo,display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",pointerEvents:a?"none":"auto"},onClick:()=>c(!0)},cn("div",{style:{opacity:a?0:1,color:"#fff",backgroundColor:"#222",borderRadius:"4px",padding:"8px 12px",fontWeight:500,boxShadow:"0 24px 48px rgb(0 0 0 / 20%), 0 0 1px rgb(0 0 0 / 10%)",transition:Xo,whiteSpace:"nowrap"}},n),cn(ti,{imageId:s,size:a?60:70,showGreenDot:!0,clickable:!a})))})),ni=t=>{var e,n,o,i;return{top:null!==(e=null==t?void 0:t.top)&&void 0!==e?e:"auto",right:null!==(n=null==t?void 0:t.right)&&void 0!==n?n:"12px",bottom:null!==(o=null==t?void 0:t.bottom)&&void 0!==o?o:"12px",left:null!==(i=null==t?void 0:t.left)&&void 0!==i?i:"auto"}},oi={width:"calc(100vw - 12px*2)",maxWidth:460,maxHeight:320,height:"calc((100vw - 12px*2) * 2 / 3)",minHeight:270},ii={maxHeight:520,height:520},ri={maxWidth:720},si={width:120,height:120,minHeight:"unset"},ai={width:"calc(100% - 12px*2)",height:"calc((100% - 12px*2))"};var ci;!function(t){t.MAXIMIZED="maximized",t.EXPANDED="expanded",t.COLLAPSED="collapsed"}(ci||(ci={}));const li=Po((({isOpen:t,url:e,callState:n,callOptions:o,flags:i})=>{const r=null==o?void 0:o.voiceWindowEmbedOffset,s=null==o?void 0:o.voiceWindowCollapsedOffset,a=ni(r),c=ni(s),l=Bn((()=>window.matchMedia("(min-width: 744px)")),[]),[u,d]=Wn(l.matches);$n((()=>{const t=t=>{d(t.matches)};return l.addEventListener("change",t),()=>{l.removeEventListener("change",t)}}),[l]);const f="inCall"===n,[p,h]=Wn(ci.EXPANDED),{ref:m}=(({edgePadding:t=0,enabled:e=!0})=>{const n=Vn(null),o=Vn({x:0,y:0}),i=Vn({x:0,y:0}),r=Vn({width:0,height:0});return $n((()=>{const s=n.current;if(s&&e){const e=t=>{t.pageX===o.current.x&&t.pageY===o.current.y||(t.preventDefault(),t.stopImmediatePropagation())};s.addEventListener("click",e,!0);const n=(t,e)=>{o.current={x:t,y:e},i.current={x:s.offsetLeft,y:s.offsetTop};const{width:n,height:a}=s.getBoundingClientRect();r.current={width:n,height:a},window.addEventListener("mousemove",u),window.addEventListener("touchmove",d)},a=t=>{0===t.button&&n(t.pageX,t.pageY)};s.addEventListener("mousedown",a);const c=t=>{n(t.touches[0].pageX,t.touches[0].pageY)};s.addEventListener("touchstart",c);const l=(t,e)=>{const n=i.current.x+(t-o.current.x),a=i.current.y+(e-o.current.y);s.style.left=`${Math.round(n)}px`,s.style.top=`${Math.round(a)}px`,s.style.right=window.innerWidth-n-r.current.width+"px",s.style.bottom=window.innerHeight-a-r.current.height+"px"},u=t=>{t.preventDefault(),t.stopPropagation(),l(t.pageX,t.pageY)},d=t=>{t.preventDefault(),t.stopPropagation(),l(t.touches[0].pageX,t.touches[0].pageY)},f=(e,n)=>{window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",d),e===o.current.x&&n===o.current.y||(s.style.transition="inset 400ms cubic-bezier(0.175, 0.885, 0.345, 1.1)",setTimeout((()=>{s&&(s.style.transition="all 0s linear 0s")}),400),s.offsetLeft+s.offsetWidth/2<window.innerWidth/2?(s.style.left=`${t}px`,s.style.right="auto"):(s.style.right=`${t}px`,s.style.left="auto"),s.offsetTop<t&&(s.style.top=`${t}px`,s.style.bottom="auto"),s.offsetTop+r.current.height>window.innerHeight-t&&(s.style.bottom=`${t}px`,s.style.top="auto"))},p=t=>{f(t.pageX,t.pageY)};s.addEventListener("mouseup",p);const h=t=>{f(t.changedTouches[0].pageX,t.changedTouches[0].pageY)};return s.addEventListener("touchend",h),()=>{s.removeEventListener("mousedown",a),s.removeEventListener("mouseup",p),s.removeEventListener("click",e,!0),s.removeEventListener("touchstart",c),s.removeEventListener("touchend",h)}}}),[n,t,e]),{ref:n}})({edgePadding:12,enabled:p===ci.COLLAPSED}),v=Zn((()=>{const t=m.current;t&&(t.style.right=a.right,t.style.left=a.left,t.style.bottom=a.bottom,t.style.top=a.top)}),[a,m]);$n((()=>{const t=t=>{var e,n;t.origin===co&&("COHERE_LOCAL_SCREENSHARE_STARTED"===(null===(e=t.data)||void 0===e?void 0:e.type)?(h(ci.MAXIMIZED),v()):"COHERE_LOCAL_SCREENSHARE_ENDED"===(null===(n=t.data)||void 0===n?void 0:n.type)&&(h(p===ci.MAXIMIZED?ci.EXPANDED:p),v()))};return window.addEventListener("message",t),()=>window.removeEventListener("message",t)}),[p,v]);const b=function(t){const e=Vn(t);return $n((()=>{e.current=t}),[t]),e}(v);Un((()=>{f||(h(ci.EXPANDED),b.current())}),[f,b]);const y=oo(f);Un((()=>{!y&&f&&i.maximizeCallWindow&&h(ci.MAXIMIZED)}),[i.maximizeCallWindow,f,y]);const[g,w]=Wn(!1);return $n((()=>{const t=t=>{t.origin===co&&("COHERE_OPEN_CHAT"===t.data.type?w(!0):"COHERE_CLOSE_CHAT"===t.data.type&&w(!1))};return window.addEventListener("message",t),()=>window.removeEventListener("message",t)}),[]),cn("div",{className:`popup ${t?"opened":""} ${p===ci.EXPANDED?"":"collapsed"} ${p===ci.EXPANDED&&(null==o?void 0:o.disableInCallPadding)?"no-padding":""}`,style:Object.assign(Object.assign(Object.assign(Object.assign({marginBottom:"env(safe-area-inset-bottom)",position:"fixed",padding:0,borderRadius:"8px",overflow:"hidden",touchAction:"none"},a),p===ci.COLLAPSED?Object.assign(Object.assign({},si),{borderRadius:"50%"}):p===ci.MAXIMIZED?ai:oi),f&&p===ci.COLLAPSED&&c),g&&p===ci.EXPANDED&&(u?ri:ii)),ref:m},cn("iframe",Object.assign({style:Object.assign({border:"none",width:"100%",height:"100%"},p===ci.COLLAPSED&&si),src:e},{allow:"camera;microphone"})),f&&cn(un,null,p===ci.MAXIMIZED?cn(Zo,{onClick:()=>{h(ci.EXPANDED),v()}}):p===ci.EXPANDED?cn(un,null,cn(Go,{onClick:()=>{h(ci.MAXIMIZED),v()}}),cn(Yo,{onClick:()=>{h(ci.COLLAPSED),v()}})):p===ci.COLLAPSED?cn("div",{style:{position:"absolute",inset:0,cursor:"pointer",borderRadius:"50%"},onClick:()=>{h(ci.EXPANDED),v()}}):null))}));let ui="bottomRight";const di=t=>{ui=t},fi=({onRequestStopMultiplayer:t,hideCornerIcon:e})=>cn("div",{className:"multiplayer-overlay"},cn("div",{className:"top-indicator"},Fo("Sharing this webpage"),cn("img",{src:"data:image/svg+xml,%3csvg width='20' height='20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cg filter='url(%23filter0_d)'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M10 14a6 6 0 100-12 6 6 0 000 12zm-2.035-3.085L6.98 9.93l1.985-1.984-1.981-1.98.985-.985 1.98 1.98 1.981-1.98.985.984-1.98 1.981 1.984 1.984-.985.985-1.985-1.984-1.984 1.984z' fill='white'/%3e%3c/g%3e%3cdefs%3e%3cfilter id='filter0_d' x='0' y='0' width='20' height='20' filterUnits='userSpaceOnUse' color-interpolation-filters='sRGB'%3e%3cfeFlood flood-opacity='0' result='BackgroundImageFix'/%3e%3cfeColorMatrix in='SourceAlpha' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'/%3e%3cfeOffset dy='2'/%3e%3cfeGaussianBlur stdDeviation='2'/%3e%3cfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0'/%3e%3cfeBlend in2='BackgroundImageFix' result='effect1_dropShadow'/%3e%3cfeBlend in='SourceGraphic' in2='effect1_dropShadow' result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",className:"closeIcon",onClick:t,alt:"Stop sharing"})),!e&&cn("div",{className:"cohere-logo"},cn($o,{className:"cohere-logo-icon"}),cn("div",{className:"cohere-logo-link-wrapper"},cn("img",{src:"data:image/svg+xml,%3csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='external-link' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='svg-inline--fa fa-external-link fa-w-16 fa-5x'%3e %3cpath fill='white' d='M432%2c320H400a16%2c16%2c0%2c0%2c0-16%2c16V448H64V128H208a16%2c16%2c0%2c0%2c0%2c16-16V80a16%2c16%2c0%2c0%2c0-16-16H48A48%2c48%2c0%2c0%2c0%2c0%2c112V464a48%2c48%2c0%2c0%2c0%2c48%2c48H400a48%2c48%2c0%2c0%2c0%2c48-48V336A16%2c16%2c0%2c0%2c0%2c432%2c320ZM474.67%2c0H316a28%2c28%2c0%2c0%2c0-28%2c28V46.71A28%2c28%2c0%2c0%2c0%2c316.79%2c73.9L384%2c72%2c135.06%2c319.09l-.06.06a24%2c24%2c0%2c0%2c0%2c0%2c33.94l23.94%2c23.85.06.06a24%2c24%2c0%2c0%2c0%2c33.91-.09L440%2c128l-1.88%2c67.22V196a28%2c28%2c0%2c0%2c0%2c28%2c28H484a28%2c28%2c0%2c0%2c0%2c28-28V37.33h0A37.33%2c37.33%2c0%2c0%2c0%2c474.67%2c0Z' class=''%3e%3c/path%3e%3c/svg%3e",className:"cohere-logo-link"})))),pi=({customTeamName:t,customRequesterName:e,userName:n})=>{let o=n;return t&&(o=`${n} from ${t}`),e&&(o=e),cn("span",{className:"requester"},o," ")},hi=({customMongolianInboundText:t,children:e,bundleUserName:n})=>cn(un,null,t?cn(un,null,`${Fo("Hi")}`,n&&` ${n}`,`${Fo(", a live support agent would like to provide you help, please accept if you would like this.")}`):e),mi=Po((({name:t,permissionHandler:e,isOpen:n,flags:{extraPromptText:o,hideFooter:i,showPrivacyFooter:r,whitelabelLogoSrc:s},bundleUserName:a,customTeamNameForCallInboundModal:c,customRequesterNameForModals:l,customMongolianInboundText:u})=>{const d=n?"opened":"",f=zo(t);return cn("div",{className:`popup-overlay ${d}`},cn("div",{className:`popup ${d}`},cn("div",{className:"desc"},cn(hi,{customMongolianInboundText:u,bundleUserName:a},cn(pi,{customTeamName:c,customRequesterName:l,userName:f}),Fo("is requesting permission to control this webpage.")),o&&cn(un,null,cn("br",null),cn("br",null),o)),cn("button",{onClick:()=>e(!0),className:"primary"},Fo("Grant access")),cn("button",{onClick:()=>e(!1)},Fo("No thanks")),s?cn("div",{className:"popup-footer"},cn("img",{src:s,style:{height:"18px",padding:"6px 0",opacity:.8,filter:"grayscale(100)"}})):!i&&cn("div",{className:"popup-footer"},!r&&cn("span",null,"Powered by "),cn(Wo,null),r&&cn("span",null," • View"," ",cn("a",{href:"https://cohere.so/terms",target:"_blank",rel:"noreferrer noopener"},"terms & conditions")))))})),vi=Po((({code:t,onClick:e,isOpen:n})=>{const o=zo(t);return cn("div",{className:`popup corner-popup ${n?"opened":""} `},cn("img",{onClick:e,className:"close-icon",src:Uo,alt:"close"}),cn("div",{style:{fontSize:"16px",padding:"12px 0",color:"#636363"}},Fo("Share this code with your support agent")),cn("div",{style:{fontWeight:"bold",fontSize:"38px",letterSpacing:"10px"}},o),cn($o,{style:{cursor:"pointer",position:"absolute",bottom:"14px",right:"18px",width:"20px",color:"#09382f"}}))})),bi=Po((({onClick:t,isOpen:e})=>cn("div",{className:"popup corner-popup "+(e?"opened":"")},cn("img",{onClick:t,className:"close-icon",src:Uo,alt:"close"}),cn("div",{style:{fontSize:"16px",padding:"24px 0"}},Fo("The remote control session has ended")),cn($o,{style:{cursor:"pointer",position:"absolute",bottom:"14px",right:"18px",width:"20px",color:"#09382f"}})))),yi=Po((({onAccept:t,onReject:e,isOpen:n,requesterName:o,customTeamNameForCallInboundModal:i,customRequesterNameForModals:r,customMongolianInboundText:s,bundleUserName:a})=>{const c=zo(o);return cn("div",{className:"popup corner-popup "+(n?"opened":"")},cn("div",{style:{fontSize:"16px",paddingBottom:"24px"}},cn(hi,{customMongolianInboundText:s,bundleUserName:a},cn(pi,{customTeamName:i,customRequesterName:r,userName:c}),Fo("is inviting you to join a call"))),cn("div",{style:{display:"flex",justifyContent:"center",width:"100%",paddingBottom:"12px"}},cn(Bo,{onClick:t,accept:!0}),cn("div",{style:{width:54}}),cn(Bo,{onClick:e,accept:!1})),cn(Wo,{style:{color:"#09382f",cursor:"pointer",position:"absolute",bottom:"14px",right:"18px",height:"20px"}}))}));let gi={popupRequester:null,multiplayerEnabled:!1,multiplayerController:"none",cursors:{},modals:{0:void 0,1:!1,2:void 0,3:void 0,4:void 0}};const wi=({emitter:e,flags:n,initialBundleUserName:o,apiKey:i,ringSettings:r})=>{var s,a,c,l,u,d;const[f,p]=Wn(gi.popupRequester),[h,m]=Wn(gi.multiplayerEnabled),[v,b]=Wn(gi.multiplayerController),[y,g]=Wn(gi.modals),[w,C]=Wn(gi.cursors),x=Bn((()=>Ie()),[]),S=Vn(null),O=Zn((()=>{const t=y[2];t&&(((t,e,n)=>{t.o("updateCallResponse",{status:Ze.ACCEPTED}),po.send({type:"ACCEPT_CALL",callData:e,voiceWindowEmbed:n})})(e,Object.assign(Object.assign({},t),{apiKey:i}),!0),g((t=>Object.assign(Object.assign({},t),{2:void 0}))))}),[y,e,i]),k=Zn((()=>{g((t=>Object.assign(Object.assign({},t),{2:void 0}))),e.o("updateCallResponse",{status:Ze.REJECTED})}),[e]);$n((()=>(e.on("acceptCallDueToMakeCall",O),()=>{e.off("acceptCallDueToMakeCall",O)})),[e,O]),$n((()=>{gi={popupRequester:f,multiplayerController:v,multiplayerEnabled:h,modals:y,cursors:w}}),[f,v,h,y,w]);const L=Zn((t=>{e.o("multiplayerResponse",t),p(null)}),[e]),E=oo(h),[j,N]=Wn("closed"),[T,M]=Wn(void 0);$n((()=>mo((t=>{N(t.value),t.matches("closed")||M(t.context.url)})).unsubscribe),[N,M]),Un((()=>{const t=({code:t})=>g((e=>Object.assign(Object.assign({},e),{0:t})));e.on("showCode",t);const n=t=>{var e;"requested"===t.status?p(null!==(e=t.requesterName)&&void 0!==e?e:null):"disabled"===t.status?(p(null),m(!1),b("none")):"enabled"===t.status&&(p(null),m(!0))};e.on("setMultiplayerStatus",n);const o=t=>{b(t)};e.on("setController",o);const i=t=>{t.status===Ge.REQUESTED?(g((e=>Object.assign(Object.assign({},e),{2:t}))),"ended"===j&&po.send({type:"NOTIFY_POPUP_CLOSED"})):t.status===Ge.OFF&&g((t=>Object.assign(Object.assign({},t),{2:void 0})))};e.on("updateCallStatus",i);const r=({status:t})=>{var e;t===Ze.ACCEPTED&&(null===(e=S.current)||void 0===e||e.play())};return e.on("updateCallResponse",r),()=>{e.off("showCode",t),e.off("setMultiplayerStatus",n),e.off("setController",o),e.off("updateCallStatus",i),e.off("updateCallResponse",r)}}),[j,e]),$n((()=>{if(h!==E)try{document.dispatchEvent(new CustomEvent("cohere-multiplayerupdate",{detail:{enabled:h}}))}catch(t){return}}),[h,E]),$n((()=>{!1===h&&!0===E&&(g((t=>Object.assign(Object.assign({},t),{1:!0}))),setTimeout((()=>g((t=>Object.assign(Object.assign({},t),{1:!1})))),5e3))}),[h,E]),Un((()=>{const n=t=>{var e;const n={x:t.x/t.width*document.documentElement.clientWidth,y:t.y/t.height*document.documentElement.clientHeight,id:t.userId,name:null!==(e=t.name)&&void 0!==e?e:"Anonymous"};C((t=>Object.assign(Object.assign({},t),{[n.id]:n})))};e.on("remoteMousemove",n);const o=e=>{C((n=>{const o=n,i=e;o[i];return t(o,["symbol"==typeof i?i:i+""])}))};e.on("viewerLeft",o);const i=t=>{x.o(t.userId)};return e.on("remoteClick",i),()=>{e.off("remoteMousemove",n),e.off("viewerLeft",o),e.off("remoteClick",i)}}),[e,x]);const[I,A]=Wn(null!=o?o:""),[D,_]=Wn(void 0);return $n((()=>{const t=t=>{var e;(null===(e=t.attrs)||void 0===e?void 0:e.displayName)&&A(t.attrs.displayName)};e.on("userIdentified",t);const n=t=>{_(t)};e.on("makeCall",n);const o=t=>{g((e=>Object.assign(Object.assign({},e),{4:t?{expanded:!1}:void 0})))};e.on("showWidget",o);const i=t=>{g((e=>Object.assign(Object.assign({},e),{4:{expanded:t}})))};return e.on("expandWidget",i),()=>{e.off("userIdentified",t),e.off("makeCall",n),e.off("showWidget",o),e.off("expandWidget",i)}}),[e]),cn(un,null,cn("style",null,':host{all:initial!important;display:block!important;position:fixed!important;bottom:0!important;pointer-events:none!important}:host,:host>*{z-index:2147483646!important;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}.multiplayer-overlay{position:fixed;top:0;bottom:0;left:0;right:0;pointer-events:none;transition:border-color .2s;opacity:.9;border:4px solid #42e4ff}.multiplayer-overlay .top-indicator{top:4px;left:0;width:fit-content;width:-moz-fit-content;border-bottom-left-radius:4px;border-bottom-right-radius:4px;transition:background .2s}.multiplayer-overlay .cohere-logo,.multiplayer-overlay .top-indicator{position:fixed;background:#42e4ff;right:0;margin:0 auto;padding:0 8px 6px;font-size:14px;font-weight:600;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.15);display:flex;align-items:center}.multiplayer-overlay .cohere-logo{bottom:0;width:fit-content;border-top-left-radius:4px;transition:width .2s,background .2s;pointer-events:auto;cursor:pointer}.multiplayer-overlay .top-indicator .closeIcon{pointer-events:auto;transform:translateY(3px);margin-left:4px;cursor:pointer;transition:opacity .2s}.multiplayer-overlay .top-indicator .closeIcon:active{opacity:.66}.multiplayer-overlay .cohere-logo-icon{margin-top:6px;height:20px;transition:opacity .2s;color:#fff}.multiplayer-overlay .cohere-logo:hover .cohere-logo-link-wrapper{overflow:hidden;width:20px}.multiplayer-overlay .cohere-logo .cohere-logo-link-wrapper{width:0;transition:width .1s ease-in-out;overflow:hidden}.multiplayer-overlay .cohere-logo-icon:active,.multiplayer-overlay .cohere-logo-link-wrapper:active{opacity:.66}.multiplayer-overlay .cohere-logo .cohere-logo-link{color:#fff;height:12px;margin:6px 0 0 6px;transition:opacity .2s,width .2s}.popup-overlay{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(243,245,247,.8);justify-content:center;align-items:center;display:flex;opacity:0;transition:opacity .15s;z-index:2147483647!important}.popup-overlay.opened{opacity:1}.popup{box-sizing:border-box;text-align:center;pointer-events:auto;width:265px;height:fit-content;background-color:#fff;box-shadow:0 24px 48px rgba(0,0,0,.1),0 0 1px rgba(0,0,0,.05);border-radius:4px;padding:24px 24px 12px;font-size:14px;line-height:1.5;opacity:0;transform:scale(.925);transition:opacity .15s,transform .15s}.popup.opened{opacity:1;transform:scale(1)}.popup.collapsed{box-shadow:0 16px 48px rgba(0,0,0,.2),0 0 1px rgba(0,0,0,.1)}@media screen and (max-width:440px){.popup.no-padding{width:100vw!important;margin-bottom:-12px!important;margin-right:-12px!important;border-radius:0!important}}.popup .desc{margin-bottom:22px}.popup .requester{font-weight:600}.popup-wrapper{position:fixed;bottom:12px;right:12px;display:grid;grid-gap:16px;grid-template-columns:1fr}.popup.corner-popup{width:360px;border-radius:4px;padding:32px;margin-bottom:env(safe-area-inset-bottom)}.popup-wrapper.bottomLeft{bottom:12px;left:12px;right:auto}.popup-wrapper.topRight{top:12px;right:12px;bottom:auto}.popup-wrapper.topLeft{top:12px;left:12px;bottom:auto;right:auto}.popup button{display:block;width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;border:none;padding:12px;background:none;border-radius:4px;color:#737373;font-weight:600;font-size:12px;margin-top:4px;outline:transparent;cursor:pointer;transition:all .25s}.popup button:active{transform:scale(.925)}.popup button:hover{color:#4d4d4d}.popup button.primary{background-color:#09382f;color:#fff}.popup button.primary:hover{background-image:linear-gradient(hsla(0,0%,100%,.13),hsla(0,0%,100%,.13));box-shadow:0 0 1px rgba(0,0,0,.15),0 6px 16px rgba(0,0,0,.12)}.popup button.primary:active{background-image:linear-gradient(rgba(0,0,0,.03),rgba(0,0,0,.03));box-shadow:0 0 1px rgba(0,0,0,.15),0 3px 6px rgba(0,0,0,.12);transform:scale(.95)}.replayer-mouse{position:fixed;transition:.2s linear;width:23px;height:29px;transform:translate(-4px,-4px);opacity:.8;background-size:contain;background-image:url("data:image/svg+xml,%3Csvg width%3D%2223%22 height%3D%2229%22 fill%3D%22none%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E    %3Cg filter%3D%22url(%23filter0_d)%22%3E        %3Cpath d%3D%22M5 19.698V5l10.989 10.137-6.758-.216L5 19.698z%22 fill%3D%22%2309382f%22 %2F%3E        %3Cpath d%3D%22M5.339 4.632L4.5 3.86v17.158l.874-.987 4.075-4.602 6.524.208 1.342.043-.987-.91L5.339 4.632z%22 stroke%3D%22%23fff%22 %2F%3E    %3C%2Fg%3E    %3Cdefs%3E        %3Cfilter id%3D%22filter0_d%22 x%3D%220%22 y%3D%22.717%22 width%3D%2222.64%22 height%3D%2227.618%22 filterUnits%3D%22userSpaceOnUse%22 color-interpolation-filters%3D%22sRGB%22%3E            %3CfeFlood flood-opacity%3D%220%22 result%3D%22BackgroundImageFix%22 %2F%3E            %3CfeColorMatrix in%3D%22SourceAlpha%22 values%3D%220 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0%22 %2F%3E            %3CfeOffset dy%3D%222%22 %2F%3E            %3CfeGaussianBlur stdDeviation%3D%222%22 %2F%3E            %3CfeColorMatrix values%3D%220 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0%22 %2F%3E            %3CfeBlend in2%3D%22BackgroundImageFix%22 result%3D%22effect1_dropShadow%22 %2F%3E            %3CfeBlend in%3D%22SourceGraphic%22 in2%3D%22effect1_dropShadow%22 result%3D%22shape%22 %2F%3E        %3C%2Ffilter%3E    %3C%2Fdefs%3E%3C%2Fsvg%3E");filter:saturate(100%)}.replayer-mouse:before{background-size:contain;background-image:url("data:image/svg+xml,%3Csvg width%3D%2229%22 height%3D%2229%22 fill%3D%22none%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E    %3Ccircle cx%3D%2214.5%22 cy%3D%2214.5%22 r%3D%2214.5%22 fill%3D%22%2309382f%22 %2F%3E%3C%2Fsvg%3E");content:"";display:block;width:1px;height:1px;transform:scale(20) translate(.15px,.15px);transform-origin:center;border-radius:50%;opacity:0}.replayer-mouse.active:before{animation:click .4s ease-in-out 1}@keyframes click{0%{opacity:.2}50%{opacity:.3;transform:scale(30) translate(.15px,.15px)}}.replayer-mouse:after{display:inline-block;background:#09382f;color:#fff;font-size:9px;transform:translate(13px,15px);border-radius:2px;padding:1px 4px;white-space:nowrap}.replayer-mouse.active:after{animation:a .2s ease-in-out 1}.popup-footer{border-top:1px solid #efefef;padding:12px 0 4px;margin-top:8px;font-size:12px;color:#737373;display:flex;align-items:center;justify-content:center}.popup-footer a{color:inherit!important}.popup-footer svg{vertical-align:sub}.popup-footer span{font-size:11px}.close-icon{top:20px;right:22px}.close-icon,.iframe-button{cursor:pointer;position:absolute;transition:transform .2s,opacity .2s}.iframe-button{top:8px;right:8px;background-color:#f7f6f3;padding:8px;border-radius:50%;box-shadow:0 0 1px rgb(0 0 0/33%);width:18px;height:18px}@media screen and (min-width:440px){.iframe-button{top:16px;right:16px}}.maximize-button{margin-right:42px}.close-icon:active,.iframe-button:active{opacity:.6;transform:scale(.85)}.call-answer-button{width:54px;height:54px;border-radius:50%;display:grid;place-items:center;cursor:pointer}.call-answer-button>svg{width:36px}.call-answer-button.reject{background:#ef243e}.call-answer-button.accept{background:#00dc79}.call-answer-button.accept>svg{transform:rotate(225deg) scaleX(-1)}.call-answer-button:focus,.call-answer-button:hover{background-image:linear-gradient(hsla(0,0%,100%,.13),hsla(0,0%,100%,.13));box-shadow:0 0 1px rgba(0,0,0,.15),0 6px 16px rgba(0,0,0,.12)}.call-answer-button:active{background-image:linear-gradient(rgba(0,0,0,.03),rgba(0,0,0,.03));box-shadow:0 0 1px rgba(0,0,0,.15),0 3px 6px rgba(0,0,0,.12);transform:scale(.95)}.logo-image{transition:transform .2s;transform-origin:center}'),cn(mi,{permissionHandler:L,name:f,flags:n,isOpen:null!==f,bundleUserName:I,customTeamNameForCallInboundModal:n.customTeamNameForCallInboundModal,customRequesterNameForModals:n.customRequesterNameForModals,customMongolianInboundText:n.customMongolianInboundText}),cn("audio",{ref:S,autoPlay:!1,style:{display:"none"},src:Bn((()=>new URL("28a492b864d92021.mp3",lo).href),[])}),h&&cn(fi,{onRequestStopMultiplayer:()=>e.o("endMultiplayer"),hideCornerIcon:n.hideCornerIcon}),h&&cn(Jo,{clickEmitter:x,cursors:w}),cn("div",{className:`${ui} popup-wrapper`},cn(vi,{onClick:()=>g((t=>Object.assign(Object.assign({},t),{0:void 0}))),code:y[0],isOpen:!!y[0]}),cn(bi,{onClick:()=>g((t=>Object.assign(Object.assign({},t),{1:!1}))),isOpen:y[1]&&n.showDisconnectOverlay}),cn(yi,{isOpen:!!y[2],requesterName:null===(s=y[2])||void 0===s?void 0:s.requesterName,onAccept:O,onReject:k,customTeamNameForCallInboundModal:n.customTeamNameForCallInboundModal,customRequesterNameForModals:n.customRequesterNameForModals,customMongolianInboundText:n.customMongolianInboundText,bundleUserName:I}),r&&cn(ei,{isOpen:!(!y[4]||y[2]||y[0]||y[1]||"closed"!==j),onCall:()=>{e.o("makeCall"),g((t=>Object.assign(Object.assign({},t),{4:void 0})))},ringImage:r.imageId,title:null===(a=r.widgetParams)||void 0===a?void 0:a.title,description:null===(c=r.widgetParams)||void 0===c?void 0:c.description,buttonText:null===(l=r.widgetParams)||void 0===l?void 0:l.buttonCTA,position:null===(u=r.widgetParams)||void 0===u?void 0:u.position,isExpanded:!!(null===(d=y[4])||void 0===d?void 0:d.expanded),setIsExpanded:t=>{g((e=>Object.assign(Object.assign({},e),{4:{expanded:t}})))},flags:n})),cn(li,{isOpen:"closed"!=j,url:T,callState:j,callOptions:D,flags:n}))};let Ci;const xi="cohere-overlay";let Si;const Oi=(t,e,n,o,i)=>{if(document.body){if(Si=()=>{document.getElementById(xi)||Oi(t,e,n,o,i)},document.addEventListener("turbolinks:load",Si),!Ci){const t=document.createElement("div");t.id=xi;const e=t.attachShadow({mode:"closed"});Ci={wrapper:t,shadowRoot:e}}document.body.contains(Ci.wrapper)||document.body.appendChild(Ci.wrapper),Nn(cn(wi,{emitter:t,apiKey:n,flags:e,initialBundleUserName:o,ringSettings:i}),Ci.shadowRoot)}else window.addEventListener("DOMContentLoaded",(()=>Oi(t,e,n,o,i)))};let ki=1;const Li=RegExp("[^a-z0-9-_]");function Ei(t){try{const e=t.rules||t.cssRules;return e?Array.from(e).map(ji).join(""):null}catch(t){return null}}function ji(t){if(function(t){return"styleSheet"in t}(t)){const e=Ei(t.styleSheet);if(e)return e}return t.cssText}const Ni=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,Ti=/flex-flow:\s*column\s+unset/gim,Mi=/flex-flow:\s*row\s+unset/gim,Ii=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/).*/,Ai=/^data:.*$/i;function Di(t,e){return e=e.split(/[?#]/)[0],(t||"").replace(Ti,"flex-flow: column").replace(Mi,"flex-flow: row").replace(Ni,((t,n,o,i,r,s)=>{const a=o||r||s,c=n||i||"";if(!a)return t;if(!Ii.test(a))return`url(${c}${Ri(a)}${c})`;if(Ai.test(a))return`url(${c}${Ri(a)}${c})`;if("/"===a[0])return`url(${c}${Ri(function(t){let e;return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+a)}${c})`;const l=e.split("/"),u=a.split("/");l.pop();for(const t of u)"."!==t&&(".."===t?l.pop():l.push(t));return`url(${c}${Ri(l.join("/"))}${c})`}))}function _i(t,e,n){if(!e||""===e.trim())return e;const o=t.createElement("a");return o.href=e,n?Ri(o.href):o.href}const Ri=t=>{if(Ai.test(t))return t;t.startsWith("//")&&(t=location.protocol+t);let e=!1;try{const n=new URL(t);e="localhost"===n.hostname||"127.0.0.1"===n.hostname||n.hostname.endsWith(".googleapis.com")}catch(n){e=!0,console.error("URL parse threw an exception",t)}return e||t.startsWith("blob:")?t:"https://gateway.cohere.so/"+t};function Hi(t,e,n){return"src"===e||("href"===e||"xlink:href"===e)&&n?_i(t,n,"src"!==e):"srcset"===e&&n?function(t,e){return""===e.trim()?e:e.split(",").map((e=>{const n=e.trimLeft().trimRight().split(" ");return 2===n.length?`${_i(t,n[0],!1)} ${n[1]}`:1===n.length?`${_i(t,n[0],!1)}`:""})).join(", ")}(t,n):"style"===e&&n?Di(n,location.href):n}function Fi(t,e,n){if("string"==typeof e){if(t.classList.contains(e))return!0}else t.classList.forEach((t=>{if(e.test(t))return!0}));return!!n&&n.some((e=>t.matches(e)))}const zi="cohere-serialize-canvas";let Pi,Wi;function $i(t,e){const{width:n,height:o}=t.getBoundingClientRect();if(n>=e||o>=e){let i,r;return Pi||(Pi=document.createElement("canvas"),Wi=Pi.getContext("2d"),Pi.className=zi),null==Wi||Wi.clearRect(0,0,Pi.width,Pi.height),n>e?(i=e,r=Math.round(o/n*e)):(r=e,i=Math.round(n/o*e)),Pi.height=r,Pi.width=i,null==Wi||Wi.drawImage(t,0,0,i,r),Pi}return t}function Ui(t,e,n,o,i,r={},s,a){var c,l;switch(t.nodeType){case t.DOCUMENT_FRAGMENT_NODE:if(t instanceof ShadowRoot){const e={type:6,childNodes:[]},n=t;return n.adoptedStyleSheets&&(e.adoptedStyleSheets=n.adoptedStyleSheets.map((t=>Di(Ei(t),location.href))).filter(Boolean)),e}case t.DOCUMENT_NODE:return{type:0,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:1,name:t.name,publicId:t.publicId,systemId:t.systemId};case t.ELEMENT_NODE:const u=Fi(t,n,o),d=function(t){if(t instanceof HTMLFormElement)return"form";const e=t.tagName.toLowerCase().trim();return Li.test(e)?"div":e}(t);let f={};for(const{name:n,value:o}of Array.from(t.attributes))f[n]=Hi(e,n,o);if("link"===d&&i){const n=Array.from(e.styleSheets).find((e=>e.href===t.href)),o=Ei(n);o&&(delete f.rel,delete f.href,f._cssText=Di(o,n.href))}if("style"===d&&t.sheet){const e=Ei(t.sheet);f._cssText=Di(e,location.href)}if("input"===d||"textarea"===d||"select"===d){const e=t.value;"radio"!==f.type&&"checkbox"!==f.type&&"submit"!==f.type&&"button"!==f.type&&e?f.value=r[f.type]||r[d]?"*".repeat(e.length):e:t.checked&&(f.checked=t.checked)}if("option"===d){const e=t.parentElement;f.value===e.value&&(f.selected=t.selected)}if("canvas"===d&&s&&(f.cohere_dataURL=$i(t,a).toDataURL()),"audio"!==d&&"video"!==d||(f.cohere_mediaState=t.paused?"paused":"played",f.muted=!0,"audio"===d&&delete f.src),t.scrollLeft&&(f.cohere_scrollLeft=t.scrollLeft),t.scrollTop&&(f.cohere_scrollTop=t.scrollTop),u){const{width:e,height:n}=t.getBoundingClientRect();f.cohere_width=`${e}px`,f.cohere_height=`${n}px`,"value"in f&&(f.value=""),"defaultValue"in f&&(f.defaultValue=""),"placeholder"in f&&(f.placeholder=""),"src"in f&&(f.src=""),"string"==typeof f.class&&f.class.split(/\s+/).includes("cohere-block")||(f.class=(null!==(c=f.class)&&void 0!==c?c:"")+" cohere-block")}return{type:2,tagName:d,attributes:f,childNodes:[],isSVG:(l=t,"svg"===l.tagName||l instanceof SVGElement||void 0),needBlock:u};case t.TEXT_NODE:const p=t.parentNode&&t.parentNode.tagName;let h=t.textContent;const m="STYLE"===p||void 0;return m&&h&&(h=Di(h,location.href)),"SCRIPT"===p&&(h="SCRIPT_PLACEHOLDER"),{type:3,textContent:h||"",isStyle:m};case t.CDATA_SECTION_NODE:return{type:4,textContent:""};case t.COMMENT_NODE:return{type:5,textContent:t.textContent||""};default:return!1}}function Vi(t,e,n,o,i,r,s=!1,a=!0,c,l,u={},d,f=!0){const p=Ui(t,e,o,i,a,l,d||!1,c);if(!p)return console.warn(t,"not serialized"),null;let h;h="_cn"in t?t._cn.id:ki++;const m=Object.assign(p,{id:h});if(t._cn=m,-2===h)return null;n[h]=t;let v=!s;if(2===m.type&&(v=v&&!m.needBlock,delete m.needBlock),(0===m.type||2===m.type||6===m.type)&&v){u.headWhitespace&&2===p.type&&"head"==p.tagName&&(f=!1);for(const p of Array.from(t.childNodes)){const t=Vi(p,e,n,o,i,r,s,a,c,l,u,d,f);t&&6!==t.type&&m.childNodes.push(t)}if(2===m.type&&t.shadowRoot){const p=Vi(t.shadowRoot,e,n,o,i,r,s,a,c,l,u,d,f);p&&6===p.type&&(m.shadowRoot=p)}}return 6===m.type&&r.add(t),m}function Bi(t,e,n=document){const o={capture:!0,passive:!0};return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}const Zi={map:{},getId:t=>t._cn?t._cn.id:-1,getNode(t){return this.map[t]||null},u(t){const e=t._cn&&t._cn.id;delete this.map[e],t.childNodes&&t.childNodes.forEach((t=>this.u(t)))},has(t){return this.map.hasOwnProperty(t)},nonMutatedInputs:new Set};function Gi(t,e,n={}){let o=null,i=0;return function(r){let s=performance.now();i||!1!==n.leading||(i=s);let a=e-(s-i),c=this,l=arguments;a<=0||a>e?(o&&(window.clearTimeout(o),o=null),i=s,t.apply(c,l)):o||!1===n.trailing||(o=window.setTimeout((()=>{i=!1===n.leading?0:performance.now(),o=null,t.apply(c,l)}),a))}}function Yi(t,e,n,o,i=window){const r=i.Object.getOwnPropertyDescriptor(t,e),s=new WeakMap;return i.Object.defineProperty(t,e,o?n:{set(t){const e=this;s.has(e)||_e((()=>{const t=s.get(e);s.delete(e),n.set.call(e,t)})),s.set(e,t),r&&r.set&&r.set.call(e,t)}}),()=>Yi(t,e,r||{},!0)}function qi(t,e,n){try{if(!(e in t))return()=>{};const o=t[e],i=n(o);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__cohere_original__:{enumerable:!1,value:o}})),t[e]=i,()=>{t[e]=o}}catch{return()=>{}}}function Ji(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ki(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}const Xi=new WeakMap;function Qi(t,e,n){if(!t)return!1;const o=Xi.get(t);if(void 0!==o)return o;let i;if(t.nodeType===t.ELEMENT_NODE){i=Fi(t,e,n)||Qi(t.parentNode,e,n)}else i=(t.nodeType,t.TEXT_NODE,Qi(t.parentNode,e,n));return Xi.set(t,i),i}function tr(t){const e=Zi.getId(t);return!Zi.has(e)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||tr(t.parentNode))}function er(t){return Boolean(t.changedTouches)}const nr="Unable to serialize canvas";var or;!function(t){t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Leave=8]="TouchMove_Leave",t[t.TouchEnd=9]="TouchEnd"}(or||(or={}));class ir{constructor(){this.clear()}clear(){this.length=0,this.head=null,this.p=new WeakMap}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let n=0;n<t;n++)e=(null==e?void 0:e.next)||null;return e}addNode(t){let e=this.p.get(t);e||(e={value:t,previous:null,next:null},this.p.set(t,e));const n=t.previousSibling&&this.p.get(t.previousSibling),o=t.nextSibling&&this.p.get(t.nextSibling);if(n){const t=n.next;e.next=t,e.previous=n,n.next=e,t&&(t.previous=e)}else if(o){const t=o.previous;e.previous=t,e.next=o,o.previous=e,t?t.next=e:this.head=e}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;this.length++}removeNode(t){const e=this.p.get(t);this.head&&e&&(e.previous?(e.previous.next=e.next,e.next&&(e.next.previous=e.previous)):(this.head=e.next,this.head&&(this.head.previous=null)),this.p.delete(t),this.length--)}}const rr=(t,e)=>`${t}@${e}`;function sr(t){return"_cn"in t}function ar(t,e){t.delete(e),e.childNodes.forEach((e=>ar(t,e)))}function cr(t,e){const{parentNode:n}=e;if(!n)return!1;const o=Zi.getId(n);return!!t.some((t=>t.id===o))||cr(t,n)}function lr(t,e){const{parentNode:n}=e;return!!n&&(!!t.has(n)||lr(t,n))}const ur=new class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.h=[],this.m={},this.v=new Set,this.g=new Set,this.C=new Set,this.S=t=>{t.forEach(this.O),this.o()},this.o=()=>{if(this.frozen||this.locked)return;const t=[],e=[],n=new Set,o=new ir,i=t=>{let e=t.nextSibling&&Zi.getId(t.nextSibling);return-1===e&&Qi(t.nextSibling,this.k,this.blockedSelectors)&&(e=null),e},r=r=>{if(!r.parentNode||!r.isConnected)return;const s=Zi.getId(r.parentNode),a=i(r);if(-1===s||-1===a)return o.addNode(r);t.push({parentId:s,nextId:a,node:Vi(r,document,Zi.map,this.k,this.blockedSelectors,n,!0,this.inlineStylesheet,this.maxCanvasDim,this.L,void 0,this.j)}),r instanceof Element&&r.shadowRoot&&e.push({parentId:Zi.getId(r),node:Vi(r.shadowRoot,document,Zi.map,this.k,this.blockedSelectors,n,!1,this.inlineStylesheet,this.maxCanvasDim,this.L,void 0,this.j)})};for(;this.h.length;)Zi.u(this.h.shift());for(const t of this.g)cr(this.removes,t)&&!this.g.has(t.parentNode)||r(t);for(const t of this.v)lr(this.C,t)||cr(this.removes,t)?lr(this.g,t)?r(t):this.C.add(t):r(t);let s=null;for(;o.length;){let t=null;if(s){const e=Zi.getId(s.value.parentNode),n=i(s.value);-1!==e&&-1!==n&&(t=s)}if(!t){let e=o.length>0?o.get(o.length-1):null;for(;null!==e;){const n=Zi.getId(e.value.parentNode),o=i(e.value);if(-1!==n&&-1!==o){t=e;break}e=e.previous}}if(!t){o.clear();break}s=t.previous,o.removeNode(t.value),r(t.value)}const a={texts:this.texts.map((t=>({id:Zi.getId(t.node),value:t.value}))).filter((t=>Zi.has(t.id))),attributes:this.attributes.map((t=>({id:Zi.getId(t.node),attributes:t.attributes}))).filter((t=>Zi.has(t.id))),removes:this.removes,adds:t,shadow:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length||a.shadow.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.v=new Set,this.g=new Set,this.C=new Set,this.m={},this.N(a),n.forEach((t=>this.T(t))))},this.O=t=>{switch(t.type){case"characterData":{const e=t.target.textContent;Qi(t.target,this.k,this.blockedSelectors)||e===t.oldValue||this.texts.push({value:e,node:t.target});break}case"attributes":{const e=t.target.getAttribute(t.attributeName);if(Qi(t.target,this.k,this.blockedSelectors)||e===t.oldValue)return;let n=this.attributes.find((e=>e.node===t.target));n||(n={node:t.target,attributes:{}},this.attributes.push(n)),n.attributes[t.attributeName]=Hi(document,t.attributeName,e);break}case"childList":t.addedNodes.forEach((e=>this.M(e,t.target))),t.removedNodes.forEach((e=>{const n=Zi.getId(e),o=Zi.getId(t.target);this.v.has(e)?(ar(this.v,e),this.C.add(e)):-1===n||this.v.has(t.target)&&-1===n||tr(t.target)||(this.g.has(e)&&this.m[rr(n,o)]?ar(this.g,e):this.removes.push({parentId:o,id:n})),this.h.push(e)}))}},this.M=(t,e)=>{if(sr(t)){this.g.add(t);let n=null;e&&sr(e)&&(n=e._cn.id),n&&(this.m[rr(t._cn.id,n)]=!0)}else this.v.add(t),this.C.delete(t);Qi(t,this.k,this.blockedSelectors)||t.childNodes.forEach((t=>this.M(t)))}}init(t,e,n,o,i,r,s,a){this.k=e,this.blockedSelectors=n,this.inlineStylesheet=o,this.L=i,this.j=r,this.N=t,this.T=s,this.maxCanvasDim=a}freeze(){this.frozen=!0}I(){this.frozen=!1,this.o()}isFrozen(){return this.frozen}lock(){this.locked=!0}unlock(){this.locked=!1,this.o()}};let dr=!1;const fr=()=>{dr=!1};function pr(t,e,n,o){if(!1===o.mouseInteraction)return()=>{};const i=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,r=[];return Object.keys(or).filter((t=>Number.isNaN(Number(t))&&!t.endsWith("_Leave")&&!1!==i[t])).forEach((o=>{const i=o.toLowerCase(),s=(o=>i=>{if(Qi(i.target,e,n)||i.__COHERE_REMOTE_CLICK)return;const r=er(i)?i.changedTouches[0]:i;if(!r)return;const s=Zi.getId(i.target),{clientX:a,clientY:c}=r;t({type:or[o],id:s,x:a,y:c})})(o);r.push(Bi(i,s))})),()=>{r.forEach((t=>t()))}}const hr=["INPUT","TEXTAREA","SELECT"],mr=new WeakMap;function vr(t,e,n,o,i){const r=[],s=new WeakMap,a=r=>{if(!dr||!r||Qi(r,e,n))return;if(r.classList.contains(zi))return;let a,c=s.get(r);c||(c=Me((async()=>{await a,a=(async t=>new Promise(((e,n)=>{t.toBlob((t=>{if(t){const o=new FileReader;o.onload=t=>{var o;const i=null===(o=t.target)||void 0===o?void 0:o.result;i?e(i):n(new Error(nr))},o.readAsDataURL(t)}else n(new Error(nr))}))})))($i(r,i)),t({id:Zi.getId(r),dataUrl:await a}),a=void 0}),o,{leading:!0,maxWait:2*o}),s.set(r,c)),c()};for(const t of[window.CanvasRenderingContext2D,window.WebGLRenderingContext,window.WebGL2RenderingContext]){if("function"!=typeof t)continue;const e=Object.getOwnPropertyNames(t.prototype);for(const n of e)try{if("function"!=typeof t.prototype[n])continue;const e=qi(t.prototype,n,(function(t,e){return function(...n){return a(e||this.canvas),t.apply(this,n)}}));r.push(e)}catch{const e=Yi(t.prototype,n,{set(){a(this.canvas)}});r.push(e)}}return{canvasHandlers:()=>r.forEach((t=>t())),forceFlushCanvases:()=>Array.from(document.getElementsByTagName("canvas")).forEach(a)}}function br(t,e={}){!function(t,e){const{A:n,D:o,_:i,R:r,H:s,P:a,W:c,$:l,U:u,V:d}=t;t.A=(...t)=>{e.mutation&&e.mutation(...t),n(...t)},t.D=(...t)=>{e.mousemove&&e.mousemove(...t),o(...t)},t._=(...t)=>{e.mouseInteraction&&e.mouseInteraction(...t),i(...t)},t.R=(...t)=>{e.scroll&&e.scroll(...t),r(...t)},t.H=(...t)=>{e.viewportResize&&e.viewportResize(...t),s(...t)},t.P=(...t)=>{e.input&&e.input(...t),a(...t)},t.W=(...t)=>{e.mediaInteraction&&e.mediaInteraction(...t),c(...t)},t.$=(...t)=>{e.styleSheetRule&&e.styleSheetRule(...t),l(...t)},t.U=(...t)=>{e.canvasMutation&&e.canvasMutation(...t),u(...t)},t.V=(...t)=>{e.font&&e.font(...t),d(...t)}}(t,e);const[n,o]=function(t,e,n,o,i,r,s){const a=new MutationObserver(ur.S.bind(ur)),c=t=>{a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0})},l=new WeakSet,u=t=>{l.has(t)||(l.add(t),c(t))};return ur.init(t,e,n,o,i,r,u,s),c(document),[a,u]}(t.A,t.k,t.blockedSelectors,t.inlineStylesheet,t.L,t.j,t.maxCanvasDim),i=function(t,e){if(!1===e.mousemove)return()=>{};const n="number"==typeof e.mousemove?e.mousemove:50;let o,i=[];const r=Gi((e=>{const n=performance.now()-o;t(i.map((t=>(t.timeOffset-=n,t))),e?6:1),i=[],o=null}),150),s=Gi((t=>{const{target:e}=t,{clientX:n,clientY:s}=er(t)?t.changedTouches[0]:t;o||(o=performance.now()),i.push({x:n,y:s,id:Zi.getId(e),timeOffset:performance.now()-o}),r(er(t))}),n,{trailing:!1}),a=[Bi("mousemove",s),Bi("touchmove",s)];return()=>{a.forEach((t=>t()))}}(t.D,t.B),r=pr(t._,t.k,t.blockedSelectors,t.B),s=(a=t.R,c=t.k,l=t.blockedSelectors,Bi("scroll",Gi((t=>{if(!t.target||Qi(t.target,c,l))return;const e=Zi.getId(t.target);if(t.target===document){const t=document.scrollingElement||document.documentElement;a({id:e,x:t.scrollLeft,y:t.scrollTop})}else a({id:e,x:t.target.scrollLeft,y:t.target.scrollTop})}),t.B.scroll||100)));var a,c,l;const u=function(t){let e=-1,n=-1;return Bi("resize",Gi((()=>{const o=Ji(),i=Ki();e===o&&n==i||(t({width:Number(i),height:Number(o)}),e=o,n=i)}),200),window)}(t.H),d=function(t,e,n,o,i,r,s){function a(t){const{target:r}=t;if(!r||!r.tagName||hr.indexOf(r.tagName)<0||Qi(r,e,n))return;const s=r.type;if("password"===s||r.classList.contains(o))return;let a=r.value,c=!1;"radio"===s||"checkbox"===s?c=r.checked:(i[r.tagName.toLowerCase()]||i[s])&&(a="*".repeat(a.length)),l(r,{text:a,isChecked:c});const u=r.name;"radio"===s&&u&&c&&document.querySelectorAll(`input[type="radio"][name="${u}"]`).forEach((t=>{t!==r&&l(t,{text:t.value,isChecked:!c})}))}const c=new Map;function l(e,n){const o=mr.get(e);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){mr.set(e,n);const o=Zi.getId(e);c.has(e)||_e((()=>{const n=Zi.nonMutatedInputs.has(o),i=c.get(e);i&&(t({...i,mutated:!n,id:o}),c.delete(e))})),c.set(e,n)}}const u=("last"===r.input?["change"]:["input","change"]).map((t=>Bi(t,a)));if(s){const t=t=>{setTimeout((()=>a(t)),0)};document.addEventListener("coherevalueupdate",t,!0),u.push((()=>document.removeEventListener("coherevalueupdate",t,!0)))}else{const t=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),e=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"]];t&&t.set&&u.push(...e.map((t=>Yi(t[0],t[1],{set(){a({target:this})}}))))}return()=>{u.forEach((t=>t()))}}(t.P,t.k,t.blockedSelectors,t.Z,t.L,t.B,t.G),f=function(t,e,n){const o=o=>i=>{const{target:r}=i;r&&!Qi(r,e,n)&&t({type:"play"===o?0:1,id:Zi.getId(r)})},i=[Bi("play",o("play")),Bi("pause",o("pause"))];return()=>{i.forEach((t=>t()))}}(t.W,t.k,t.blockedSelectors),p=function(t){const e=new Map,n=(n,o)=>{let i=e.get(n);void 0===i&&(i=[],e.set(n,i),_e((()=>{t({id:n,ops:i}),e.delete(n)}))),i.push(o)},o=CSSStyleSheet.prototype.insertRule;CSSStyleSheet.prototype.insertRule=function(t,e){const i=Zi.getId(this.ownerNode),r=o.apply(this,arguments);return-1!==i&&n(i,{rule:Di(t,location.href),index:e}),r};const i=CSSStyleSheet.prototype.deleteRule;CSSStyleSheet.prototype.deleteRule=function(t){const e=Zi.getId(this.ownerNode),o=i.apply(this,arguments);return-1!==e&&n(e,{index:t}),o};const r=new WeakSet,s="adoptedStyleSheets"in ShadowRoot.prototype?Yi(ShadowRoot.prototype,"adoptedStyleSheets",{set(){const e=this,n=e._cn;!r.has(e)&&n&&_e((()=>{const o=e.adoptedStyleSheets;void 0!==o&&t({id:n.id,adoptedStyleSheets:o.map((t=>Di(Ei(t),location.href))).filter(Boolean),ops:[]}),r.delete(e)}))}}):void 0;return()=>{CSSStyleSheet.prototype.insertRule=o,CSSStyleSheet.prototype.deleteRule=i,null==s||s()}}(t.$),{forceFlushCanvases:h,canvasHandlers:m}=t.j?vr(t.U,t.k,t.blockedSelectors,t.Y,t.maxCanvasDim):{},v=t.q?function(t){const e=[],n=new WeakMap,o=FontFace;window.FontFace=function(t,e,i){const r=new o(t,e,i);return n.set(r,{family:t,buffer:"string"!=typeof e,descriptors:i,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),r};const i=qi(document.fonts,"add",(function(e){return function(o){return setTimeout((()=>{const e=n.get(o);e&&(t(e),n.delete(o))}),0),e.apply(this,[o])}}));return e.push((()=>{window.FontFace=o})),e.push(i),()=>{e.forEach((t=>t()))}}(t.V):()=>{};return{forceFlushCanvases:h,T:o,cleanupHandlers:()=>{n.disconnect(),i(),r(),s(),u(),d(),f(),p(),null==m||m(),v()}}}let yr=0;const gr=Date.now();function wr(t){return{...t,timestamp:Date.now(),i:gr+"-"+yr++}}let Cr;function xr(t={}){const{o:e,J:n,K:o,k:i="cohere-block",Z:r="cohere-ignore",inlineStylesheet:s=!0,X:a,L:c,hooks:l,tt:u,B:d={},et:f,j:p=!1,q:h=!1,G:m=!1,blockedSelectors:v=null,Y:b=500,maxCanvasDim:y=1024}=t;if(!e)throw new Error("No frame handler passed");void 0!==f&&void 0===d.mousemove&&(d.mousemove=f);const g=!0===a?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:void 0!==c?c:{};let w,C;!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();let x=0;const S=[0,8];function O(t=!1){var e,n,o,r;Cr(wr({type:4,data:{href:window.location.href,width:Ki(),height:Ji()}}),t),ur.lock();const[a,c,l]=function(t,e,n=!0,o,i,r,s,a){const c={},l=new Set;return[Vi(t,t,c,e,a,l,!1,n,r,!0===o?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===o?{}:o,{},s),c,l]}(document,i,s,g,0,y,p&&dr,null!=v?v:[]);if(a)return Zi.map=c,Cr(wr({type:2,data:{node:a,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(n=null===(e=null===document||void 0===document?void 0:document.body)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(r=null===(o=null===document||void 0===document?void 0:document.body)||void 0===o?void 0:o.parentElement)||void 0===r?void 0:r.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),ur.unlock(),l;console.warn("Snapshot failed")}let k;Cr=(t,i)=>{if(!ur.isFrozen()||2===t.type||3==t.type&&0==t.data.source||ur.I(),e(u?u(t):t,i),2===t.type)C=t,x=0;else if(3===t.type&&S.includes(t.data.source)){x++;const e=o&&x>=o,i=n&&t.timestamp-C.timestamp>n;if(e||i){const t=O(!0);null==t||t.forEach((t=>null==w?void 0:w(t)))}}};try{const t=[];t.push(Bi("DOMContentLoaded",(()=>{Cr(wr({type:0,data:{}}))})));const e=()=>{const e=O(),{forceFlushCanvases:n,cleanupHandlers:o,T:a}=br({A:t=>Cr(wr({type:3,data:{source:0,...t}})),D:(t,e)=>Cr(wr({type:3,data:{source:e,positions:t}})),_:t=>Cr(wr({type:3,data:{source:2,...t}})),R:t=>Cr(wr({type:3,data:{source:3,...t}})),H:t=>Cr(wr({type:3,data:{source:4,...t}})),P:t=>Cr(wr({type:3,data:{source:5,...t}})),W:t=>Cr(wr({type:3,data:{source:7,...t}})),$:t=>Cr(wr({type:3,data:{source:8,...t}})),U:t=>Cr(wr({type:3,data:{source:9,...t}})),V:t=>Cr(wr({type:3,data:{source:10,...t}})),k:i,Z:r,L:g,inlineStylesheet:s,B:d,j:p,q:h,G:m,blockedSelectors:v,Y:b,maxCanvasDim:y},l);k=n,w=a,null==e||e.forEach((t=>null==w?void 0:w(t))),t.push(o),t.push((()=>{k=void 0,w=void 0}))};return"interactive"===document.readyState||"complete"===document.readyState?e():t.push(Bi("load",(()=>{Cr(wr({type:1,data:{}})),e()}),window)),{stopFn:()=>{t.forEach((t=>t()))},startStreamCanvases:()=>{dr=!0,null==k||k()},stopStreamCanvases:fr}}catch(t){console.warn(t)}}xr.addCustomEvent=(t,e)=>{if(!Cr)throw new Error("Invalid recording state for event");Cr(wr({type:5,data:{tag:t,payload:e}}))},xr.freezePage=()=>{ur.freeze()};const Sr={cancelable:!0,bubbles:!0},Or=(t,e)=>{const n=new MouseEvent(t,Object.assign(Object.assign({},Sr),e));return n.__COHERE_REMOTE_CLICK=!0,n},kr=(t,e)=>{const n=new PointerEvent(t,Object.assign(Object.assign({},Sr),e));return n.__COHERE_REMOTE_CLICK=!0,n},Lr=(t,e)=>new Event(t,Object.assign(Object.assign({},Sr),e)),Er=(t,e)=>{const n={cancelable:!0,clientX:null==e?void 0:e.clientX,clientY:null==e?void 0:e.clientY,screenX:null==e?void 0:e.screenX,screenY:null==e?void 0:e.screenY,altKey:null==e?void 0:e.altKey,shiftKey:null==e?void 0:e.shiftKey,ctrlKey:null==e?void 0:e.ctrlKey,metaKey:null==e?void 0:e.metaKey};t.dispatchEvent(Or("mousedown",n)),t.dispatchEvent(Or("mouseup",n)),t.dispatchEvent(kr("pointerdown",n)),t.dispatchEvent(kr("pointerup",n));let o,i=t;if(t instanceof HTMLLabelElement){const e=(t=>{let e=null;return t.htmlFor&&(e=t.ownerDocument.getElementById(t.htmlFor)),e||(e=t.getElementsByTagName("input")[0]),e})(t);e&&(i=e)}if((t=>t instanceof HTMLInputElement&&"checkbox"===t.type)(i)){const e=i.checked;o=Or("click",n),t.dispatchEvent(o),!0===o.defaultPrevented?i.checked=e:(i.dispatchEvent(Lr("input",{cancelable:!1})),i.dispatchEvent(Lr("change",{cancelable:!1})))}else{const e=t.closest("button, input");(e instanceof HTMLInputElement&&"submit"===e.type||e instanceof HTMLButtonElement&&"button"!==e.type)&&e.form?e.click():t.dispatchEvent(Or("click",n))}t.matches("[tabindex]")&&t instanceof HTMLElement&&(document.activeElement===t&&t.blur(),t.focus())},jr={scroll:window.scroll||window.scrollTo,elementScroll:Element.prototype.scroll},Nr=window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now;function Tr(t,e){this.scrollLeft=t,this.scrollTop=e}function Mr(t){let e=(Nr()-t.startTime)/428;e=e>1?1:e;const n=function(t){return.5*(1-Math.cos(Math.PI*t))}(e),o=t.startX+(t.x-t.startX)*n,i=t.startY+(t.y-t.startY)*n;t.method.call(t.scrollable,o,i),o===t.x&&i===t.y||window.requestAnimationFrame(Mr.bind(window,t))}function Ir(t,e,n){let o,i,r,s;const a=Nr();t===document.body?(o=window,i=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset,s=jr.scroll):(o=t,i=t.scrollLeft,r=t.scrollTop,s=Tr),Mr({scrollable:o,method:s,startTime:a,startX:i,startY:r,x:e,y:n})}const Ar="scrollBehavior"in document.documentElement.style,Dr=(t,e)=>{Ar?t.scrollTo(e):function(t,e){if(void 0===e)return;const{left:n,top:o}=e;Ir.call(t,t,void 0===n?t.scrollLeft:~~n,void 0===o?t.scrollTop:~~o)}(t,e)},_r=t=>{var e;Ar?window.scrollTo(t):void 0!==(e=t)&&Ir.call(window,document.body,void 0!==e.left?~~e.left:window.scrollX||window.pageXOffset,void 0!==e.top?~~e.top:window.scrollY||window.pageYOffset)};let Rr,Hr;const Fr=(t,e,n,o)=>{var i,r;const s=t.nodeId,a=Zi.map[s];if(a&&!(a instanceof HTMLElement&&(n.some((t=>a.matches(t)))||a.matches(`.${e}`))))if((t=>t instanceof SVGElement||"ownerSVGElement"in t)(a)){const e=null!==(i=a.ownerSVGElement)&&void 0!==i?i:a,n=!!(null===(r=o.svgClickBubbleTrueOverrideClassNameStartsWith)||void 0===r?void 0:r.some((t=>{var n;return null===(n=Array.from(e.classList))||void 0===n?void 0:n.some((e=>e.startsWith(t)))})));if(e.dispatchEvent(new Event("click",{bubbles:n})),!n){const n=e.parentElement;n&&Er(n,t)}}else Qn(a)&&Er(a,t)},zr=(t,e)=>{var n;const o=null===(n=Object.getOwnPropertyDescriptor(t instanceof HTMLInputElement?HTMLInputElement.prototype:HTMLTextAreaElement.prototype,"value"))||void 0===n?void 0:n.set;o?o.call(t,e):t.value=e},Pr=(t,e,n)=>{const o=document.createEvent("Events");o.initEvent&&o.initEvent(e,!0,!0);const i=o;i.keyCode=n.keyCode,i.altKey=n.altKey,i.ctrlKey=n.altKey,i.shiftKey=n.shiftKey,i.key=n.key,t.dispatchEvent(o)},Wr=(t,e)=>{const n=new Event(e,{bubbles:!0,cancelable:!1,composed:!1});n.simulated=!0,t.dispatchEvent(n)},$r=t=>{document.activeElement===t?t.blur():t.dispatchEvent(new Event("blur",{bubbles:!1}))};let Ur=[];const Vr=[1,2,3,4,5,6],Br=t=>3===t.type&&Vr.includes(t.data.source),Zr=t=>{if(3===t.type&&2===t.data.source&&2===t.data.type){if(Ur.length>0&&(t.timestamp-Ur[Ur.length-1].timestamp>200||((t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))(t.data,Ur[Ur.length-1].data)>50||Ur.length>50)&&(Ur=[]),Ur.length>=3){const e={};for(const t of Ur)if(3===t.type&&2===t.data.source&&2===t.data.type){const n=t.data.id;e[n]?e[n].push(t):e[n]=[t]}if(e[t.data.id]&&e[t.data.id].length>=3)return Ur=[],e[t.data.id][0]}Ur.push(t)}return!1},Gr=(t,e,n,o,i,r,s,a,c,l)=>{let u=[],d=[];const f=Ho(t,e,20,{maxWait:30});let p=!1;const h={takeFromQueue:()=>{const t=d;return d=[],t},getLastActiveTime:()=>{let t;for(let e=u.length-1;e>=0;e--){const n=u[e][0];if(Br(n)){t=n.timestamp;break}}return t},initialSnapshotSeen:()=>p,setIdle:f.setIdle,resetQueue:()=>{const t=Date.now();for(const e of u)e[0].timestamp=t;d=Array.from(u)}};return((t,e,n,o,i)=>{var r;const s=xr({o(e,n){t(e,n)},K:null!==(r=i.customCheckoutInterval)&&void 0!==r?r:250,inlineStylesheet:!!o,G:e,blockedSelectors:[...n,".StripeElement","loom-container",".intercom-container",".intercom-css-container","grammarly-desktop-integration"],j:!0,Y:i.canvasDebounceInterval,maxCanvasDim:i.maxCanvasDim});Hr=null==s?void 0:s.stopStreamCanvases,Rr=null==s?void 0:s.startStreamCanvases})(((t,e)=>{((t,e)=>{const n=[t,null!=e?e:null],o=!l;if(void 0!==e&&(o&&(d=[]),u=[]),3===t.type&&9===t.data.source){const e=t.data,n=([t])=>3!==t.type||9!==t.data.source||e.id!==t.data.id;o&&(d=d.filter(n)),u=u.filter(n)}else if(3===t.type&&2===t.data.source){const e=t.data,n=([t])=>3!==t.type||2!==t.data.source||e.type!==t.data.type;o&&(d=d.filter(n)),u=u.filter(n)}else if(3===t.type&&1===t.data.source){const t=([t])=>3!==t.type||1!==t.data.source;o&&(d=d.filter(t)),u=u.filter(t)}else if(3===t.type&&3===t.data.source){const e=t.data,n=([t])=>3!==t.type||3!==t.data.source||e.id!==t.data.id;o&&(d=d.filter(n)),u=u.filter(n)}d.push(n),u.push(n)})(t,e),Br(t)&&o();const r=Zr(t);r&&i(r),f.schedule(h),2===t.type&&(p||(p=!0,_e((()=>{f.flush(),n(h)}))))}),c,a,s,r),h};var Yr;!function(t){t[t.BUNDLE=1]="BUNDLE",t[t.DASHBOARD=2]="DASHBOARD",t[t.CALLAPP=3]="CALLAPP"}(Yr||(Yr={}));const qr=(t,n,o)=>e(void 0,void 0,void 0,(function*(){let e=!1;const i=t=>{e&&(t.preventDefault(),t.returnValue="Screenshare in progress.")};window.addEventListener("beforeunload",i);const r=t.createClient({mode:"live",codec:"h264"});t.setLogLevel(4);const s=yield r.join("f960a3186828419dbec683c572e2f1df",n,null,Yr.BUNDLE);yield new Promise((t=>{if(!document.hidden)return void t();const e=()=>{document.hidden||(t(),document.removeEventListener("visibilitychange",e))};document.addEventListener("visibilitychange",e)}));const a=yield t.createScreenVideoTrack({screenSourceType:"window",optimizationMode:"detail"},"disable");return a.on("track-ended",o),yield r.setClientRole("host"),yield r.publish(a),e=!0,{uid:s,stop:()=>{a.close(),r.leave(),window.removeEventListener("beforeunload",i),e=!1}}}));let Jr;const Kr=()=>e(void 0,void 0,void 0,(function*(){return void 0===Jr&&(Jr=new Promise(((t,e)=>{const n=document.createElement("script");n.addEventListener("error",(t=>e(t.error))),n.src=new URL("/rtc.js",lo).toString(),window.Cohere.rtcPluginHook=e=>{window.Cohere.rtcPluginHook=void 0,t(e)},document.head.appendChild(n)}))),yield Jr}));let Xr=!1;const Qr=t=>{const{timeRanges:e,timeZone:n}=t;if(!e||0===e.length)return!0;if(!n)return!1;const o=new Date((new Date).toLocaleString("en-US",{timeZone:n}));for(const t of e){const e=o.getDay(),n="every day"===t.day,i="weekdays"===t.day&&e>0&&e<6,r="weekends"===t.day&&(0===e||6===e),s=t.day===["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e];if(n||i||r||s){const e=60*o.getHours()+o.getMinutes();if(e>=t.startTime&&e<t.endTime)return!0}}return!1};let ts,es;let ns;const os=()=>{const t=()=>{(null==es?void 0:es.showWidgetDuringAvailableTimes)&&((t,e)=>{if(!(null==t?void 0:t.length))return!0;const n=window.location.href;let o;for(const i of t){if(""===i.url)continue;let t;if("contains"===i.type)t=n.includes(i.url);else if("doesNotContain"===i.type)t=!n.includes(i.url);else if("is"===i.type)t=n===i.url;else if("isNot"===i.type)t=n!=i.url;else if("startsWith"===i.type)t=n.startsWith(i.url);else{if("endsWith"!==i.type){console.error("Unrecognized URL filter type:",i.type);continue}t=n.endsWith(i.url)}void 0===o?o=t:void 0===e||"or"===e?o=o||t:"and"===e?o=o&&t:console.error("Unrecognized URL operator:",e)}return!!o})(null==es?void 0:es.urlFilters,null==es?void 0:es.urlOperator)&&ts&&Qr(ts)?void 0===gi.modals[4]&&Ns("show"):Ns("hide"),is(),ns=setTimeout(t,5e3)};t()},is=()=>{ns&&(clearTimeout(ns),ns=void 0)};let rs;const ss=window.Cohere;var as;!function(t){t.RAGECLICK="rageclick"}(as||(as={}));let cs,ls=!1,us=!1;const ds=t=>{us!==t&&(us=t,us?fs&&(cs=((t,e)=>{let n,o=!0;const i=()=>{n&&(clearInterval(n),n=void 0)};return n=setInterval((()=>{o?(o=!1,t.send(JSON.stringify({type:"ping"}))):(i(),e())}),5e3),{stop:i,pong:()=>{o=!0}}})(fs,(()=>{null==fs||fs.reconnect(),cs=void 0}))):(null==cs||cs.stop(),cs=void 0))};let fs;const ps=(t=>{let e,n;const o=()=>{const n=window.location.toString();n!==e&&(e=n,t({type:"pathname",pathname:window.location.pathname,origin:window.location.origin,timestamp:Date.now()}))};return{start:()=>{n||(o(),n=setInterval(o,1e3))},stop:()=>{n&&(clearInterval(n),n=void 0)}}})((t=>null==fs?void 0:fs.send(JSON.stringify(t)))),hs=Ie();let ms;const vs=()=>ms&&(null==fs?void 0:fs.send(JSON.stringify(Object.assign({type:"identify"},ms))));hs.on("multiplayerResponse",(t=>{const e=t?"enabled":"disabled";null==fs||fs.send(JSON.stringify({type:"multiplayerStatus",status:e})),hs.o("setMultiplayerStatus",{type:"setMultiplayerStatus",status:e})}));hs.on("endMultiplayer",(()=>{null==fs||fs.send(JSON.stringify({type:"multiplayerStatus",status:"disabled"}))}));hs.on("updateCallResponse",(({status:t})=>{null==fs||fs.send(JSON.stringify({type:"updateCallStatus",status:t}))}));const bs=()=>{null==fs||fs.send(JSON.stringify({type:"pageVisible",status:!document.hidden})),document.hidden&&us&&ks(xs)},ys=new class{constructor(){this.iframeAssocs=new WeakMap}add(t){this.iframeAssocs.set(t.iframeNode,t.sessionId)}values(){const t=document.getElementsByTagName("iframe"),e=[];for(let n=0;n<t.length;++n){const o=t[n],i=this.iframeAssocs.get(o);void 0!==i&&e.push({iframeNode:o,sessionId:i})}return e}},gs=t=>{const e=t.flatMap((t=>{const e=t.iframeNode;return"_cn"in e?[{nodeId:e._cn.id,sessionId:t.sessionId}]:[]}));null==fs||fs.send(JSON.stringify({type:"assignIframes",iframes:e}))};let ws;window.addEventListener("message",(t=>{const e=t.data,n=t.source;if(t.data,"COHERE_ASSOC_IFRAME"===(null==e?void 0:e.type)){let t;try{t=n.frameElement}catch(e){t=Array.from(document.getElementsByTagName("iframe")).find((t=>t.contentWindow===n))}if(t instanceof HTMLIFrameElement){const n={iframeNode:t,sessionId:e.sessionId};ys.add(n),(null==xs?void 0:xs.initialSnapshotSeen())&&gs([n])}}}));const Cs=t=>{if(t&&1===(null==fs?void 0:fs.readyState)){const e=t.takeFromQueue();e.length>0&&fs.send(JSON.stringify({type:"logs",lines:e}))}};let xs,Ss,Os;const ks=t=>{if(t&&1===(null==fs?void 0:fs.readyState)){const e=t.takeFromQueue();e.length>0&&(null==fs||fs.send(JSON.stringify({type:"frames",frames:e})))}},Ls=["Y29oZXJlLnNv","c3RhY2tlci5hcHA=","YWlycG9ydGFsLmFwcA==","c3RhY2tlcmhxLmNvbQ==","bXljYW52YXMuY29t","Z2V0Y2FybGluZS5jb20=","dHJ5cGxheWdyb3VuZC5jb20=","Z2V0c3dpcGUuY29t","ZmxvYXQuYWZyaWNh","Z2VuZXJhbGNvbnRyYWN0b3JzLm9yZw==","aG9tZWJ1aWxkZXJkaWdlc3QuY29t","aW5jcmVkaWJsZXBob25lcy5jb20=","a2VlcGVyLmFwcA==","aG90cGxhdGUuY29t","ZmFuZ2FnZS5jb20=","b2thcHB5LmNvbQ==","Y2Fub3B5YW5hbHl0aWNzLmNvbQ==","Y2Fub3B5LXN0YWdpbmcuY29t","Y2Fub3B5LWRlbW8uY29t","bHZoLm1l","b3Bwb3J0dW5pLmNvLnVr","cmVmbG93aHViLmNvbQ==","aGlyZWZsb3cuYWk=","Z2V0cm9ja2V0LmNvbQ==","c3dvb3BhcHAuY29t","bW9vdnMuYXBw","dGhlc3dvb3BhcHAuaW8=","cHVsbGV5LmNvbQ==","cGFydGluZ3NlbWlwcm8uY29t","cGFydGluZ3Byby5jb20=","Z2V0d2FybWx5LmNvbQ==","d2FybWx5LmFp","emVuZG9vci5jbw==","bG9nc3Rlby5jb20=","c2hpcHZpby5jb20=","dnMyNC5jb20=","YmxuLmht","YmVsb25naG9tZS5jb20="],Es=(t,e)=>{const n=t&&("string"==typeof t||"number"==typeof t),o=void 0===(null==e?void 0:e.displayName)||"string"==typeof e.displayName,i=void 0===(null==e?void 0:e.email)||"string"==typeof e.email;n?(o?i||console.error("[Cohere] email attribute must be a string"):console.error("[Cohere] displayName attribute must be a string"),ms={userId:t.toString(),attrs:e},hs.o("userIdentified",ms),vs()):console.error("[Cohere] The userId passed into identify must be a string")},js=t=>{ms?Es(ms.userId,Object.assign(Object.assign({},ms.attrs),{email:t})):Es(t,{email:t})},Ns=t=>{switch(t){case"show":gi.modals[4]={expanded:!1},hs.o("showWidget",!0),os();break;case"hide":gi.modals[4]=void 0,hs.o("showWidget",!1),is();break;case"expand":gi.modals[4]={expanded:!0},hs.o("expandWidget",!0);break;case"collapse":gi.modals[4]={expanded:!1},hs.o("expandWidget",!1);break;default:console.error("[Cohere] Invalid widget action")}},Ts=new Map;let Ms="closed";const Is=mo((t=>{"dialing"===Ms&&"closed"===t.value?null==fs||fs.send(JSON.stringify({type:"callRequest",status:Ye.CANCELED,rtcSessionId:t.context.rtcSessionId})):"missed"===t.value&&(null==fs||fs.send(JSON.stringify({type:"callRequest",status:Ye.MISSED,rtcSessionId:t.context.rtcSessionId}))),Ms=t.value})),As=t=>{let e=0;const n=setInterval((()=>{try{const e=sessionStorage.getItem(eo);e&&(clearInterval(n),t(`https://api.cohere.so/session-redirect/${e}`))}catch(t){console.warn("[Cohere] session storage failed",t),clearInterval(n)}e+=250,e>=5e3&&clearInterval(n)}),250)},Ds=new Set,_s=t=>{for(const e of Ds)e(`https://api.cohere.so/session-redirect/${t}`)},Rs={init:(t,n)=>{var o,i;if(!t)return void console.warn("No API key was passed to Cohere.init()");if("number"!=typeof Date.now())return void console.warn("[Cohere] Date.now() returned a string instead of a number. Please upgrade any date handling libraries you have installed.");if(ls)return;ls=!0,(null==n?void 0:n.modalPosition)&&di(n.modalPosition),(null==n?void 0:n.segmentIntegration)&&(null===(i=(o=window.Cohere).hookSegment)||void 0===i||i.call(o)),os();const r=window.parent!==window&&!!(null==n?void 0:n.childIframe),s=new f(`${Ls.some((t=>window.location.origin.endsWith(atob(t))))?"wss://service-tier2.cohere.so":"wss://service.cohere.so"}/client/${t}`,void 0,{connectionTimeout:7500,minReconnectionDelay:1e3+1e3*Math.random(),maxReconnectionDelay:15e3,reconnectionDelayGrowFactor:1.4,maxRetries:1/0,maxEnqueuedMessages:0});let a,c,l,u,d;s.addEventListener("open",(()=>{var e,o;try{let t;fs=s;try{t=null!==(e=sessionStorage.getItem(eo))&&void 0!==e?e:void 0}catch(e){t=void 0}fs.send(JSON.stringify({type:"init",sessionId:t,language:navigator.language.toLowerCase(),version:4,buildTime:1632925496102,origin:window.location.origin,pathname:window.location.pathname,isChildIframe:r,lastFrame:null!==(o=null==xs?void 0:xs.getLastActiveTime())&&void 0!==o?o:Date.now(),disableRecording:null==n?void 0:n.disableRecording,supportsWebRtc:vo})),vs(),document.addEventListener("visibilitychange",bs),bs()}catch(e){e instanceof Error&&no(e,t)}})),s.addEventListener("message",(o=>{var i,f;try{const p=JSON.parse(o.data);if(p.type,"setSession"===p.type){const{sessionId:e,inlineStylesheet:n,supportCode:d,blockedSelectors:h=[],flags:m={},recordFrames:v,isReconnected:b,ringSettings:y}=p;l=p.teamName,a=h,u=!!v,c=m,r?window.parent.postMessage({type:"COHERE_ASSOC_IFRAME",sessionId:e},"*"):(f=p.callAvailability,ts=f,es=y,ns&&(is(),os()),Oi(hs,c,t,null===(i=null==ms?void 0:ms.attrs)||void 0===i?void 0:i.displayName,y)),rs=null!=d?d:(()=>{let t="";for(let e=0;e<6;++e)t+=ro[Math.floor(Math.random()*ro.length)];return t})();try{sessionStorage.getItem(eo)!==e&&(_s(e),sessionStorage.setItem(eo,e))}catch(o){console.warn("[Cohere] session storage failed",o)}go(e);const g=p.numViewers>0;(g||u)&&ds(!0),b||(null==ws||ws.resetQueue(),null==xs||xs.resetQueue()),us&&(Cs(ws),ks(xs));const w=()=>gs(ys.values());m.disableConsoleCapture||ws||(ws=((t,e)=>{let n=[];const o=Ho(t,e,300,{maxWait:1e3}),i={takeFromQueue:()=>{const t=n;return n=[],t},resetQueue:()=>{n=[]},setIdle:o.setIdle};let r;return Ro(window.console,(t=>{const e={t:Date.now(),l:t};void 0===r&&(r=0,setTimeout((()=>{r=void 0}),1e3)),r<50&&(++r,n.push(e),o.schedule(i))}),!0),i})((t=>{us&&Cs(t)}),!g)),Ss=Me((()=>{sessionStorage.removeItem(eo),s.close(4005),Ss=()=>{Ss=void 0,s.reconnect()}}),18e5),Os=Me((()=>{s.send(JSON.stringify({type:"userActivity"}))}),9e6,{leading:!0}),xs?b||w():(xs=Gr((t=>{us&&ks(t)}),!g,w,(()=>{null==Ss||Ss(),null==Os||Os()}),Me((t=>{s.send(JSON.stringify({type:"replayEvent",timestamp:t.timestamp,replayEventType:as.RAGECLICK}))}),3e5,{leading:!0}),c,!(!n&&!to),a,!!(null==ss?void 0:ss.valhook),!!u),window.addEventListener("pagehide",(()=>{us&&ks(xs)}))),ps.start(),"disabled"!==p.multiplayerStatus&&_e((()=>hs.o("setMultiplayerStatus",{type:"setMultiplayerStatus",status:p.multiplayerStatus,requesterName:p.lastRequesterName}))),(g||c.enableCanvasRecording)&&(null==Rr||Rr())}else if("remoteScroll"===p.type){const{scrollOptions:t,nodeId:e}=p;((t,e)=>{const n=Zi.map[e];n&&(Qn(n)?Dr(n,t):_r(t))})(t,e)}else if("remoteClick"===p.type)c.disableMultiplayerInteractions||Fr(p,"cohere-block",a,c),hs.o("remoteClick",p);else if("selectChange"===p.type){const{nodeId:t,selectedIndex:e}=p.data;((t,e)=>{const n=Zi.map[t];n instanceof HTMLSelectElement&&(n.selectedIndex=e,Wr(n,"change"))})(t,e)}else if("key"===p.type){const{nodeId:t,events:e}=p;((t,e)=>{const n=Zi.map[t];if((n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)&&e.length>0){let o=!1;for(const t of e)zr(n,t.value),Pr(n,"keydown",t),Pr(n,"keypress",t),Pr(n,"keyup",t),Wr(n,"input"),Wr(n,"change"),n.value!==t.value&&(o=!0);o||(Zi.nonMutatedInputs.add(t),window.setTimeout((()=>{Zi.nonMutatedInputs.delete(t)}),0))}})(t,e)}else if("focus"===p.type||"blur"===p.type){const{nodeId:t}=p;(null==n?void 0:n.disableFocusToggle)||("focus"===p.type?(t=>{const e=Zi.map[t];e instanceof HTMLInputElement&&e.focus()})(t):((t,e)=>{const n=Zi.map[t];if(n instanceof HTMLInputElement){if(/^(react-select|downshift)-\w+-input$/.test(n.id)||(null==e?void 0:e.some((t=>n.matches(t)))))return void setTimeout((()=>$r(n)),600);$r(n)}})(t,c.delayBlurForInputCssSelectors))}else if("mouseover"===p.type){const{nodeId:t}=p;(t=>{const e=Zi.map[t];e instanceof HTMLElement&&e.dispatchEvent(new MouseEvent("mouseover",{view:window,bubbles:!0,cancelable:!0}))})(t)}else if("mouseout"===p.type){const{nodeId:t}=p;(t=>{const e=Zi.map[t];e instanceof HTMLElement&&e.dispatchEvent(new MouseEvent("mouseout",{view:window,bubbles:!0,cancelable:!0}))})(t)}else if("remoteMousemove"===p.type){const{data:t}=p;hs.o("remoteMousemove",t)}else if("setMultiplayerStatus"===p.type)hs.o("setMultiplayerStatus",p),"requested"===p.status&&c.enableRtc&&!r&&Kr();else if("setController"===p.type){const{controller:t}=p;hs.o("setController",t)}else if("viewerLeft"===p.type){const{id:t}=p;hs.o("viewerLeft",t),0===p.numViewers&&(u||ds(!1),c.enableCanvasRecording||null==Hr||Hr(),null==ws||ws.setIdle(!0),null==xs||xs.setIdle(!0))}else"openStream"===p.type?(us||(ds(!0),ks(xs),Cs(ws)),null==Rr||Rr(),null==ws||ws.setIdle(!1),null==xs||xs.setIdle(!1)):"ping"===p.type?s.send(JSON.stringify({type:"pong",lastFrame:null==xs?void 0:xs.getLastActiveTime()})):"pong"===p.type?null==cs||cs.pong():"updateScreenshareStatus"===p.type?p.status===Be.OFF?null==d||d.stop():p.status===Be.REQUESTED&&Kr().then((t=>e(void 0,void 0,void 0,(function*(){const e=()=>{s.send(JSON.stringify({type:"updateScreenshareStatus",status:Be.OFF}))};try{d=yield qr(t,p.rtcSessionId,e),s.send(JSON.stringify({type:"updateScreenshareStatus",status:Be.ENABLED}))}catch(t){e()}})))):"updateCallStatus"===p.type&&(p.status===Ge.ENABLED?(t=>{po.state.matches("dialing")&&(t.o("updateCallResponse",{status:Ze.ACCEPTED}),po.send({type:"PICKED_UP"}))})(hs):hs.o("updateCallStatus",p))}catch(o){o instanceof Error&&no(o,t)}})),hs.on("makeCall",(e=>{var n,o,i,r,a;if(gi.modals[2])hs.o("acceptCallDueToMakeCall");else if(1===s.readyState&&void 0!==l){c.hideCallWidgetId&&(a=c.hideCallWidgetId,Xr||(Xr=!0,ho((t=>{const e=document.getElementById(a);e&&("closed"!==t?(e.style.transform="scale(0)",e.style.pointerEvents="none"):(e.style.transform="initial",e.style.pointerEvents="initial"))}))));const s=((t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let o=63&n[t];e+=o<36?o.toString(36):o<62?(o-26).toString(36).toUpperCase():o<63?"_":"-"}return e})();o={rtcSessionId:s,requestCallPreviewImage:c.requestCallPreviewImage,apiKey:t},i=!0,r=null!==(n=null==e?void 0:e.missedCallCTA)&&void 0!==n?n:(({missedCallCTAOptions:t})=>{if(null==t?void 0:t.relURL){const e=t.relURL,n="#em-register-modal"===e?()=>{window.$("#registerModal .gform_heading .gform_title").text(window.$("#registerModal").attr("data-ryiv")),window.$("#registerModal").modal("show"),window.$("#trigger-call").trigger("click")}:()=>{const n=new URL(e,window.location.href).href;t.pushState?window.history.pushState({},"",n):window.location.href=n};return{text:t.text,onClick:n}}})(c),po.send({type:"DIAL_CALL",callData:o,voiceWindowEmbed:i,missedCallCTA:r}),null==fs||fs.send(JSON.stringify({type:"callRequest",status:Ge.REQUESTED,rtcSessionId:s}))}else console.error("[Cohere] makeCall can only be called after calling init")})),s.addEventListener("close",(t=>{4004===t.code&&s.close(),ps.stop(),Ci&&(Nn(null,Ci.shadowRoot),document.body.removeChild(Ci.wrapper),Ci=void 0),Si&&document.removeEventListener("turbolinks:load",Si),ds(!1)}))},identify:Es,stop:()=>{ls&&(ls=!1,null==Hr||Hr(),null==fs||fs.send(JSON.stringify({type:"requestStop"})),null==fs||fs.close(),fs=void 0,Is.unsubscribe(),document.removeEventListener("visibilitychange",bs),is())},showCode:(t="bottomRight")=>{ls?(t&&di(t),hs.o("showCode",{code:rs}),null==fs||fs.send(JSON.stringify({type:"supportCode",supportCode:rs}))):console.error("[Cohere] showCode can only be called after calling init")},makeCall:t=>{ls?vo?hs.o("makeCall",t):console.error("[Cohere] makeCall failed as WebRTC 1.0+ is not supported on this device"):console.error("[Cohere] makeCall can only be called after calling init")},getSessionUrl:As,addCallStatusListener:t=>{Ts.set(t,ho(t))},removeCallStatusListener:t=>{const e=Ts.get(t);e&&(e.unsubscribe(),Ts.delete(t))},widget:Ns,isAvailable:t=>{let e=0;const n=setInterval((()=>{ts&&(clearInterval(n),t(Qr(ts))),e+=250,e>=5e3&&clearInterval(n)}),250)},addSessionUrlListener:t=>{As(t),Ds.add(t)},removeSessionUrlListener:t=>{Ds.delete(t)}},Hs=[];for(;ss&&ss.length>0;){const t=ss.shift(),e=t.shift();Rs[e]&&!Hs.includes(e)&&(Rs[e](...t),Hs.push(e))}ss?Object.entries(Rs).forEach((([t,e])=>ss[t]=e)):window.Cohere=Rs}();
